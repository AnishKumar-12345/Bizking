import{x as ne,az as oe,W as re,D as F,e as f,ar as se,H as b,aq as ue,J as ie,aA as de,g as t,R as A,F as k,a4 as G,a5 as ce,bb as fe,ag as me,af as M,aD as ve,ae as xe,L as Ve,_ as j,o as V,c as C,w as o,i as p,j as ge,k as he,l as E,s as L,m as be,b as D,a as W,q as $,t as H,v as pe,r as ke,f as Ce,u as _e}from"./index.89c3bcd2.js";import{s as ye}from"./Services.7881b1f6.js";import{V as Te}from"./VForm.2a801050.js";import{V as we}from"./VSelect.a4e0af3a.js";import{a as Fe,e as Pe,f as Se,g as Ie,h as Re,i as Be,b as Ae}from"./VTextField.2bb12e56.js";import{V as De}from"./VTable.40471282.js";import{V as He}from"./VSnackbar.ed58e230.js";import{V as Ne,a as Ue,b as ze,c as Oe}from"./VWindowItem.598181d2.js";import"./index.2bd8ddc8.js";import"./VCheckboxBtn.7fb327e2.js";import"./VChip.2a54a4ff.js";const qe=ne({name:"VTextarea",directives:{Intersect:oe},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...Fe(),...Pe()},emits:{"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:g,emit:P,slots:a}=n;const r=re(e,"modelValue"),s=F(()=>typeof e.counterValue=="function"?e.counterValue(r.value):(r.value||"").toString().length),u=F(()=>{if(g.maxlength)return g.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function J(l,i){var d,c;!e.autofocus||!l||(d=i[0].target)==null||(c=d.focus)==null||c.call(d)}const N=f(),_=f(),m=f(!1),U=f(""),y=f(),z=F(()=>m.value||e.persistentPlaceholder),K=F(()=>e.messages.length?e.messages:z.value||e.persistentHint?e.hint:"");function S(){if(y.value!==document.activeElement){var l;(l=y.value)==null||l.focus()}m.value||(m.value=!0)}function Q(l){S(),P("click:control",l)}function X(l){l.stopPropagation(),S(),M(()=>{r.value="",ve(e["onClick:clear"],l)})}function Y(l){r.value=l.target.value}const v=f();function x(){!e.autoGrow||M(()=>{if(!v.value||!_.value)return;const l=getComputedStyle(v.value),i=getComputedStyle(_.value.$el),d=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),c=v.value.scrollHeight,I=parseFloat(l.lineHeight),R=Math.max(parseFloat(e.rows)*I+d,parseFloat(i.getPropertyValue("--v-input-control-height"))),B=parseFloat(e.maxRows)*I+d||1/0;U.value=xe(Ve(c!=null?c:0,R,B))})}se(x),b(r,x),b(()=>e.rows,x),b(()=>e.maxRows,x),b(()=>e.density,x);let T;return b(v,l=>{if(l)T=new ResizeObserver(x),T.observe(v.value);else{var i;(i=T)==null||i.disconnect()}}),ue(()=>{var l;(l=T)==null||l.disconnect()}),ie(()=>{const l=!!(a.counter||e.counter||e.counterValue),i=!!(l||a.details),[d,c]=de(g),[{modelValue:I,...R}]=Se(e),[B]=Ie(e);return t(Ae,A({ref:N,modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},d,R,{messages:K.value}),{...a,default:h=>{let{isDisabled:w,isDirty:O,isReadonly:Z,isValid:ee}=h;return t(Re,A({ref:_,style:{"--v-textarea-control-height":U.value},"onClick:control":Q,"onClick:clear":X,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},B,{active:z.value||O.value,dirty:O.value||e.dirty,focused:m.value,error:ee.value===!1}),{...a,default:te=>{let{props:{class:q,...ae}}=te;return t(k,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),G(t("textarea",A({ref:y,class:q,value:r.value,onInput:Y,autofocus:e.autofocus,readonly:Z.value,disabled:w.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:S,onBlur:()=>m.value=!1},ae,c),null),[[ce("intersect"),{handler:J},null,{once:!0}]]),e.autoGrow&&G(t("textarea",{class:[q,"v-textarea__sizer"],"onUpdate:modelValue":le=>r.value=le,ref:v,readonly:!0,"aria-hidden":"true"},null),[[fe,r.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:i?h=>{var w;return t(k,null,[(w=a.details)==null?void 0:w.call(a,h),l&&t(k,null,[t("span",null,null),t(Be,{active:e.persistentCounter||m.value,value:s.value,max:u.value},a.counter)])])}:void 0})}),me({},N,_,y)}}),Ge={mixins:[ye],data(){return{orderrules:[e=>!!e||"Order is required"],Tandcrule:[e=>!!e||"T&C is required"],snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,headers:[{text:"Selected Order",value:"sku_name"},{text:"Terms&Conditions",value:"hsn_code"},{text:"Actions",value:"action"}],tandc:{type:"",data:""}}},mounted(){},methods:{validateForm(){this.$refs.purchaseOrderForm.validate().then(e=>{e.valid==!0?this.addtandc():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},addtandc(){const e={};e.type=this.tandc.type,e.data=this.tandc.data,this.posttandc(e).then(n=>{n.data.status==1?(this.snackbar=!0,this.color="primary",this.formData={},this.snackbarText=n.data.message,this.tandc={}):(this.snackbar=!0,this.color="on-background")})}}};function Me(e,n,g,P,a,r){return V(),C("div",null,[t(E,null,{default:o(()=>[t(p,{cols:"12"},{default:o(()=>[t(ge,{title:"Terms & Conditions",class:"mb-4"},{default:o(()=>[t(he,null,{default:o(()=>[t(Te,{class:"mt-6",ref:"purchaseOrderForm"},{default:o(()=>[t(E,null,{default:o(()=>[t(p,{md:"6",cols:"12"},{default:o(()=>[t(we,{modelValue:a.tandc.type,"onUpdate:modelValue":n[0]||(n[0]=s=>a.tandc.type=s),label:"Select Order",items:["Purchase Order","Sales Order"],rules:a.orderrules},null,8,["modelValue","rules"])]),_:1}),t(p,{md:"6",cols:"12"},{default:o(()=>[t(qe,{"auto-grow":"",modelValue:a.tandc.data,"onUpdate:modelValue":n[1]||(n[1]=s=>a.tandc.data=s),label:"Add Terms and Conditions",rules:a.Tandcrule,rows:"4",counter:"words"},null,8,["modelValue","rules"])]),_:1}),t(L),t(p,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:o(()=>[t(be,{onClick:n[2]||(n[2]=s=>r.validateForm())},{default:o(()=>[D("Save")]),_:1})]),_:1}),t(p,{cols:"12"},{default:o(()=>[t(De,null,{default:o(()=>[W("thead",null,[W("tr",null,[(V(!0),C(k,null,$(a.headers,s=>(V(),C("th",{class:"text-center",key:s},H(s.text),1))),128))])])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1}),t(He,{modelValue:a.snackbar,"onUpdate:modelValue":n[3]||(n[3]=s=>a.snackbar=s),timeout:3500,color:a.color},{default:o(()=>[D(H(a.snackbarText),1)]),_:1},8,["modelValue","color"])])}const Ee=j(Ge,[["render",Me]]),We={components:{AddTandC:Ee},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Add T&C",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=pe(),this.activeTab=f(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function je(e,n,g,P,a,r){const s=ke("AddTandC");return V(),C("div",null,[t(Ne,{modelValue:a.activeTab,"onUpdate:modelValue":n[0]||(n[0]=u=>a.activeTab=u),"show-arrows":""},{default:o(()=>[(V(!0),C(k,null,$(a.tabs,u=>(V(),Ce(Oe,{key:u.icon,value:u.tab},{default:o(()=>[t(_e,{size:"20",start:"",icon:u.icon},null,8,["icon"]),D(" "+H(u.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t(L),t(ze,{modelValue:a.activeTab,"onUpdate:modelValue":n[1]||(n[1]=u=>a.activeTab=u),class:"mt-5 disable-tab-transition",touch:!1},{default:o(()=>[t(Ue,{value:"account"},{default:o(()=>[t(s)]),_:1})]),_:1},8,["modelValue"])])}const lt=j(We,[["render",je]]);export{lt as default};
