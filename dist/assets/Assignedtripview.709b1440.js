import{_ as O,o as u,c as h,g as s,w as r,i as p,j as V,k as D,l as v,m as g,b as _,a as d,b8 as C,F as x,q as y,t as c,u as k,bn as R,f as I,bo as P,a5 as N,b9 as L,ac as B,bp as K,bq as G,v as H,e as M,r as j,s as W}from"./index.08705643.js";import{s as Y}from"./Services.f9e4372b.js";import{V as A}from"./VForm.eec84c64.js";import{V as E}from"./VAutocomplete.457394fd.js";import{V as w}from"./VTextField.0584a3e6.js";import{V as F}from"./VTable.eda8fa83.js";import{V as T}from"./VDialog.54dfbcf0.js";import{V as J}from"./VFileInput.405878e9.js";import{V as X}from"./VPagination.f3ba474e.js";import{V as Z}from"./VSnackbar.89c018e7.js";import{V as $,a as ee,b as te,c as ae}from"./VWindowItem.2d182e11.js";import"./VCounter.d136124c.js";import"./VSelect.00b3ff1f.js";import"./VCheckboxBtn.770726d6.js";import"./VChip.cd0ade04.js";const se={mixins:[Y],data(){return{expandedIndex:null,snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,Enddate:"",outputstockdata:[],totaloutputstockdata:[],imageFile:null,deliverorder:[e=>e===0||!!e&&`${e}`.trim()!==""||"Delivery Quantity Is Required"],deliverdamage:[e=>e===0||!!e&&`${e}`.trim()!==""||"Damaged Quantity Is Required"],locationdata:"",cityID:"",loading:"",cityLoaction:[],getAllsalesorderdata:[],person:[e=>!!e||"Assign Delivery Person is required"],headers:[{text:"Serial No.",value:"user_name"},{text:"City",value:"user_name"},{text:"Trip Name",value:"user_name"},{text:"Location",value:"merchant_uid"},{text:"Driver Name",value:"target_amount"},{text:"Sales Order Count",value:"achieved_target"},{text:"Action",value:"achieved_percentage"}],headers3:[{text:"So No.",value:"so_no"},{text:"Created Date",value:"so_no"},{text:"Merchant UID",value:"merchant_name"},{text:"Status",value:"status"},{text:"Invoice Number",value:"user_name"},{text:"Not Deliver Reason",value:"user_name"},{text:"Invoice File",value:"user_name"},{text:"Delivery Challan File",value:"user_name"},{text:"Action",value:"achieved_percentage"}],headers2:[{text:"Serial No.",value:"user_name"},{text:"SKU Name",value:"user_name"},{text:"Shipped Ordered",value:"user_name"},{text:"Shipped Exchange",value:"user_name"}],headers4:[{text:"SKU Name",value:"user_name"},{text:"Shipped Ordered",value:"user_name"},{text:"Shipped Exchange",value:"user_name"},{text:"Return",value:"merchant_uid"},{text:"Delivery Ordered",value:"delivery_orderd"},{text:"Delivery Exchange",value:"delivery_exchange"},{text:"Return Quantity",value:"return_quantity"},{text:"Not Delivered",value:"achieved_percentage"}],isProgress:!1,AssignedPerson:[],deliveryPerson:[],Deliverypersondata:"",TripId:"",searchQuery:"",page:1,pageSize:10,page2:1,pageSize2:10,dialog:!1,getSalesorder:[],dialog2:!1,searchQuery2:"",dialog3:!1,soStatusdata:"",dialog4:!1,dialog5:!1,dialog6:!1,SOIDD:"",bulkpdfid:"",dialogData:[]}},computed:{filteredStockData(){return this.outputstockdata.filter(e=>e.shipped_ordered>0||e.shipped_exchange>0||e.return>0)},filteredSAwisetarget(){const e=this.searchQuery.toLowerCase().trim();return this.AssignedPerson.filter(t=>t.city&&t.city.toLowerCase().includes(e)||t.delivery_person&&t.delivery_person.toLowerCase().includes(e)||t.location&&t.location.toLowerCase().includes(e)||t.sales_order_count&&t.sales_order_count.toString().includes(e)||t.trip_name&&t.trip_name.toLowerCase().includes(e))},paginatedItems(){const e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.filteredSAwisetarget.slice(e,t)},filteredSAwisetarget2(){const e=this.searchQuery2.toLowerCase().trim();return this.getSalesorder.filter(t=>t.shipped_exchange&&t.shipped_exchange.toString().includes(e)||t.shipped_ordered&&t.shipped_ordered.toString().includes(e)||t.sku_name&&t.sku_name.toLowerCase().includes(e))},paginatedItems2(){const e=(this.page2-1)*this.pageSize2,t=e+this.pageSize2;return this.filteredSAwisetarget2.slice(e,t)}},mounted(){this.cityID=localStorage.getItem("city_id"),this.handleBrandSelection()},methods:{getDeliveryRules(e){return[t=>e.shipped_ordered==="0"?!0:!!t||e.damaged>0||"Required.",t=>e.shipped_ordered==="0"?!0:t>=0||"Value must be positive.",t=>e.shipped_ordered==="0"?!0:!this.isQuantityExceeded4(e.shipped_ordered,t,e.damaged)]},getDamagedRules(e){return[t=>e.shipped_ordered==="0"?!0:!!t||e.delivered_ordered>0||"Required",t=>e.shipped_ordered==="0"?!0:t>=0||"Value must be positive.",t=>e.shipped_ordered==="0"?!0:!this.isQuantityExceeded4(e.shipped_ordered,e.delivered_ordered,t)]},getdeliveryreturnrule(e){return[t=>e.return==="0"?!0:!!t||e.delivered_returned>0||"Required",t=>e.return==="0"?!0:t>=0||"Value must be positive."]},getdeliveryexchangerule(e){return[t=>e.shipped_exchange==="0"?!0:!!t||e.delivered_exchange>0||"Required",t=>e.shipped_exchange==="0"?!0:t>=0||"Value must be positive."]},isQuantityExceeded(e,t){return e>t?(this.snackbar=!0,this.color="on-background",this.snackbarText="Delivered quantity must match Ordered quantity.",!0):!1},isQuantityExceeded2(e,t){return e<t?(this.snackbar=!0,this.color="on-background",this.snackbarText="Delivery Exchange cannot exceed Exchange quantity.",!0):!1},isQuantityExceeded3(e,t){return e>t?(this.snackbar=!0,this.color="on-background",this.snackbarText="Delivery Return cannot exceed Return quantity.",!0):!1},isQuantityExceeded4(e,t,m){const f=t+m;return console.log("Total:",f,"Shipped Ordered:",e),f!=e?(this.snackbar=!0,this.color="on-background",this.snackbarText="The total of delivered and damaged quantities must match the shipped quantity.",!0):!1},createshippinvoice(e){this.bulkpdfid=e,this.dialog5=!0},genaratePDFinvoice(e){this.createInvoice(e).then(t=>{this.snackbarText="Invoice Generated Successfully",this.color="primary",this.snackbar=!0,window.location.reload(!0)})},bulkinvoicecreate(){this.shippedinvoice(this.bulkpdfid).then(e=>{e.data.status==1?(this.snackbar=!0,this.color="primary",this.snackbarText=e.data.message,this.AssignedPerson,this.dialog5=!1):(this.snackbar=!0,this.color="on-background",this.snackbarText=e.data.message)})},handleFileChange(e){e.target.files.length>0?this.imageFile=e.target.files[0]:this.imageFile=null},podimageupload(){if(this.imageFile){const e=new FileReader;e.onloadend=()=>{const m={pod_image:e.result.split(",")[1],so_id:this.SOIDD};this.DeliveredPODimage(m).then(f=>{console.log({response:f}),f.data.status==1?(this.snackbar=!0,this.snackbarText=f.data.message,this.color="primary",this.imageFile="",this.SOIDD="",this.dialog3=!1,this.dialog4=!0,this.dialog6=!1,this.getOutputstock(this.dialogData.so_id,this.dialogData.city_id).then(i=>{console.log("res",i),this.totaloutputstockdata=i.data,this.outputstockdata=this.totaloutputstockdata.products.map(a=>{var l,n,o,b;return{...a,delivered_ordered:(l=a.delivered_ordered)!=null?l:0,delivered_exchange:(n=a.delivered_exchange)!=null?n:0,delivered_returned:(o=a.delivered_returned)!=null?o:0,damaged:(b=a.damaged)!=null?b:0}})})):f.data.status==0?(this.snackbar=!0,this.snackbarText=f.data.message,this.color="on-background"):(this.snackbar=!0,this.color="on-background",this.snackbarText="Image Is Mandatory")}).catch(f=>{})},e.readAsDataURL(this.imageFile)}else this.snackbar=!0,this.snackbarText="Please select an image to upload.",this.color="on-background"},handlePersonSelection(e){e==="Delivered"?(this.dialog6=!0,this.dialog3=!1):this.dialog6=!1},preventDecimal(e){(e.key==="."||e.key===","||e.key==="+"||e.key==="-"||e.keyCode===189||e.keyCode===109)&&e.preventDefault()},preventPaste(e){const m=(e.clipboardData||window.clipboardData).getData("text");/^[0-9]+$/.test(m)||e.preventDefault()},validateForm3(){},closeDialog4(){this.dialog4=!1},closeDialog5(){this.dialog5=!1},closeDialog6(){this.dialog6=!1},editassignedrow(e){this.dialog3=!0,this.dialogData=e,this.soStatusdata=e.so_status,this.SOIDD=e.so_id},closeDialog3(){this.dialog3=!1,this.soStatusdata=""},getdeliverychallan(e){window.open(e,"_blank")},getinvoice(e){window.open(e,"_blank")},toggleExpand(e,t){this.expandedIndex=this.expandedIndex===t?null:t,this.GetTripsalesorders(e.trip_id).then(m=>{console.log("check the response",m),m.data.status==1?(this.getAllsalesorderdata=m.data.data,this.snackbar=!0,this.color="primary",this.snackbarText=m.data.message):(this.snackbar=!0,this.color="on-background",this.snackbarText=m.data.message)})},viewrow(e){this.GetTripdetails(e.trip_id).then(t=>{t.data.status==1?(this.getSalesorder=t.data.data,this.dialog2=!0,this.snackbar=!0,this.color="primary",this.snackbarText=t.data.message):(this.getSalesorder=[],this.dialog2=!1,this.snackbar=!0,this.color="on-background",this.snackbarText=t.data.message)})},closeDialog(){this.dialog=!1,this.Deliverypersondata=""},closeDialog2(){this.dialog2=!1},editrow(e){this.TripId=e.trip_id,this.Getsalesperson(this.cityID,this.locationdata).then(t=>{t.data.status==1?(this.deliveryPerson=t.data.data.map(m=>({value:m.delivery_person,text:m.name})),this.dialog=!0):(this.deliveryPerson=[],this.dialog=!1)})},validateForm2(){this.$refs.purchaseOrderForm.validate().then(e=>{e.valid==!0?this.Assigndelperson():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},Assigndelperson(){const e={trip_id:this.TripId,delivery_person:this.Deliverypersondata};this.Assigndeliveryperson(e).then(t=>{t.data.status==1?(this.dialog=!1,this.snackbar=!0,this.loading=!1,this.color="primary",this.snackbarText=t.data.message,this.validateForm(),this.Deliverypersondata="",this.TripId=""):(this.snackbar=!0,this.color="on-background",this.dialog=!1,this.snackbarText=t.data.message)})},updatePagination(e){this.page=e},updatePagination2(e){this.page2=e},validateForm(){this.$refs.tripform.validate().then(e=>{e.valid==!0?this.getAssignedview():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},getAssignedview(){this.loading=!0,this.Assignedpersondata(this.locationdata,this.Enddate).then(e=>{e.data.status==1?(this.AssignedPerson=e.data.data,this.snackbar=!0,this.loading=!1,this.color="primary",this.snackbarText=e.data.message):(this.loading=!1,this.snackbar=!0,this.color="on-background",this.AssignedPerson=[],this.snackbarText=e.data.message)})},validateForm4(){this.$refs.purchaseOrderFormss.validate().then(e=>{e.valid==!0?this.postDeliverdetails():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},postDeliverdetails(){const e=this.totaloutputstockdata,t=new Date,m=t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+" "+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0"),f={created_date:e.created_date,grn_image:e.grn_image,grn_number:e.grn_number,delivery_challan_file:e.delivery_challan_file,is_empty:e.is_empty,merchant_code:e.merchant_code,merchant_id:e.merchant_id,merchant_name:e.merchant_name,po_number:e.po_number,shipped_date:e.shipped_date,so_id:e.so_id,so_number:e.so_number,so_status:5,sub_total:e.sub_total,total_cgst:e.total_cgst,total_margin:e.total_margin,total_quantity:e.total_quantity,total_sgst:e.total_sgst,total_so_amount:e.total_so_amount,delivered_date:m,pod_image:e.pod_image,delivery_person:e.delivery_person,products:this.outputstockdata.map((a,l)=>{var n,o,b,S,U,Q,z,q;return{amount:a.amount,brand_name:a.brand_name,cgst:a.cgst,cgst_percentage:a.cgst_percentage,exchange:a.exchange,exchange_quantity:a.exchange_quantity,hsn_code:a.hsn_code,margin:a.margin,margin_percentage:a.margin_percentage,merchant_product_id:a.merchant_product_id,mrp:a.mrp,price_per_unit:a.price_per_unit,quantity:a.quantity,return:a.return,sgst:a.sgst,sgst_percentage:a.sgst_percentage,shipped_exchange:a.shipped_exchange,shipped_ordered:a.shipped_ordered,sku_name:a.sku_name,taxable_amount:a.taxable_amount,uom:a.uom,delivered_exchange:(o=(n=a.delivered_exchange)==null?void 0:n.toString())!=null?o:"0",delivered_ordered:(S=(b=a.delivered_ordered)==null?void 0:b.toString())!=null?S:"0",delivered_returned:(Q=(U=a.delivered_returned)==null?void 0:U.toString())!=null?Q:"0",damaged:(q=(z=a.damaged)==null?void 0:z.toString())!=null?q:"0"}})},i=this.outputstockdata.map(a=>{const l=[this.isQuantityExceeded(a.delivered_ordered,a.shipped_ordered),this.isQuantityExceeded2(a.shipped_exchange,a.delivered_exchange),this.isQuantityExceeded3(a.delivered_returned,a.return),this.isQuantityExceeded4(a.shipped_ordered,a.delivered_ordered,a.damaged)];return console.log("Errors for product:",a,l),l.some(n=>n)});console.log("Validation Error :",i.filter(a=>a)),i.filter(a=>a).length===0?(this.isProgress=!0,this.postDelivery(f).then(a=>{console.log({response:a}),a.data.status==1?(this.snackbar=!0,this.color="primary",this.snackbarText=a.data.message,this.dialog4=!1,this.isProgress=!1,this.toggleExpand()):(this.isProgress=!1,this.snackbar=!0,this.color="on-background",this.snackbarText=a.data.message)})):(this.snackbar=!0,this.color="on-background",this.snackbarText="your quantities are exceeded")},handleBrandSelection(){this.getCitylocation(this.cityID).then(e=>{this.cityLoaction=e.data.data.map(t=>({value:t.location_id,text:t.location}))})}}},le={style:{"max-width":"400px"}},re={key:0,id:"app"},ie=K('<div id="loading-bg"><div class="loading-logo"><img src="'+G+'" height="60" width="68" alt="Logo"></div><div class="loading"><div class="effect-1 effects"></div><div class="effect-2 effects"></div><div class="effect-3 effects"></div></div></div>',1),de=[ie],oe={key:0},ne=d("td",{colspan:"16",class:"text-center"},[d("h1",null,"No data found !")],-1),ue=[ne],ce={class:"text-center"},he={class:"text-center"},ge={class:"text-center"},_e={class:"text-center"},me={class:"text-center"},pe={class:"text-center"},fe={class:"text-center"},ve={colspan:"7"},xe={class:"text-center"},ye={class:"text-center"},ke={class:"text-center"},be={class:"text-center"},Ve={class:"text-center"},De={class:"text-center"},we={class:"text-center"},Se={class:"text-center"},Ce={key:0,class:"text-center"},Te={style:{"max-width":"400px"}},Ie={class:"text-center"},Pe={class:"text-center"},Ae={class:"text-center"},Fe={class:"text-center"},Ee=d("br",null,null,-1),Ue={class:"text-center"},Qe={class:"text-center"},ze={class:"text-center"},qe={class:"text-center"};function Oe(e,t,m,f,i,a){return u(),h("div",null,[s(v,null,{default:r(()=>[s(p,{cols:"12"},{default:r(()=>[s(V,{title:"Assign Trip View",class:"mb-4"},{default:r(()=>[s(D,null,{default:r(()=>[s(A,{ref:"tripform",class:"mt-6"},{default:r(()=>[s(v,null,{default:r(()=>[s(p,{cols:"12",md:"6"},{default:r(()=>[s(E,{modelValue:i.locationdata,"onUpdate:modelValue":t[0]||(t[0]=l=>i.locationdata=l),label:"Location",items:i.cityLoaction,"item-value":"value","item-title":"text","menu-props":{maxHeight:200}},null,8,["modelValue","items"])]),_:1}),s(p,{cols:"12",md:"6"},{default:r(()=>[s(w,{modelValue:i.Enddate,"onUpdate:modelValue":t[1]||(t[1]=l=>i.Enddate=l),type:"date",label:"Date",rules:e.endr},null,8,["modelValue","rules"])]),_:1}),s(p,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:r(()=>[s(g,{onClick:a.validateForm},{default:r(()=>[_(" Get ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1}),d("div",le,[s(w,{modelValue:i.searchQuery,"onUpdate:modelValue":t[2]||(t[2]=l=>i.searchQuery=l),class:"mb-3",density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])]),i.loading?(u(),h("div",re,de)):C("",!0),s(F,{headers:i.headers,items:a.paginatedItems,"item-key":"dessert",class:"table-rounded",height:"500","fixed-header":""},{default:r(()=>[d("thead",null,[d("tr",null,[(u(!0),h(x,null,y(i.headers,l=>(u(),h("th",{key:l,class:"text-center"},c(l.text),1))),128))])]),d("tbody",null,[a.filteredSAwisetarget.length===0?(u(),h("tr",oe,ue)):C("",!0),(u(!0),h(x,null,y(a.filteredSAwisetarget,(l,n)=>(u(),h(x,{key:n},[d("tr",null,[d("td",ce,c(n+1),1),d("td",he,c(l.city),1),d("td",ge,c(l.trip_name),1),d("td",_e,c(l.location),1),d("td",me,c(l.delivery_person),1),d("td",pe,c(l.sales_order_count),1),d("td",fe,[s(g,{icon:"",variant:"text",color:"default",class:"mb-1 mt-2",size:"x-small",onClick:o=>a.createshippinvoice(l.trip_id)},{default:r(()=>[s(k,{icon:"iwwa:file-pdf",size:"22",color:"error"})]),_:2},1032,["onClick"]),s(g,{icon:"",variant:"text",color:"default",class:"mb-1 mt-2",size:"x-small",onClick:o=>a.toggleExpand(l,n)},{default:r(()=>[s(k,{icon:i.expandedIndex===n?"mdi-minus":"mdi-plus",size:"22",color:"#BA8B32"},null,8,["icon"])]),_:2},1032,["onClick"]),s(g,{icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:o=>a.editrow(l)},{default:r(()=>[s(k,{icon:"ri-pencil-line",size:"22",color:"#BA8B32"})]),_:2},1032,["onClick"]),s(g,{icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:o=>a.viewrow(l)},{default:r(()=>[s(k,{color:"success",icon:"basil:eye-outline",size:"22"})]),_:2},1032,["onClick"])])]),i.expandedIndex===n?(u(),h("tr",{key:`expanded-${n}`},[d("td",ve,[s(R,null,{default:r(()=>[d("div",null,[s(F,{dense:""},{default:r(()=>[d("thead",null,[d("tr",null,[(u(!0),h(x,null,y(i.headers3,o=>(u(),h("th",{key:o,class:"text-center"},c(o.text),1))),128))])]),d("tbody",null,[(u(!0),h(x,null,y(i.getAllsalesorderdata,(o,b)=>(u(),h("tr",{key:b},[d("td",xe,c(o.so_number),1),d("td",ye,c(o.created_date),1),d("td",ke,c(o.merchant_uid),1),d("td",be,c(o.so_status),1),d("td",Ve,c(o.invoice_number),1),d("td",De,c(o.not_delivered_reason),1),d("td",we,[(o.so_status==="Shipped"||o.so_status==="Delivered"||o.so_status==="Cancelled"||o.so_status==="Acknowledged"||o.so_status==="Ready To Ship")&&o.invoice_file!=""?(u(),I(g,{key:0,icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:S=>a.getinvoice(o.invoice_file)},{default:r(()=>[s(k,{color:"error",icon:"iwwa:file-pdf",size:"26"})]),_:2},1032,["onClick"])):(u(),I(g,{key:1,icon:"",variant:"text",color:"default",class:"me-2",size:"x-small"},{default:r(()=>[s(k,{left:"",color:"error",icon:"wpf:create-new",size:"26",onClick:S=>a.genaratePDFinvoice(o.so_id)},null,8,["onClick"])]),_:2},1024))]),d("td",Se,[s(g,{icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:S=>a.getdeliverychallan(o.delivery_challan_file)},{default:r(()=>[s(k,{color:"error",icon:"iwwa:file-pdf",size:"26"})]),_:2},1032,["onClick"])]),o.so_status!="Delivered"?(u(),h("td",Ce,[o.invoice_file!=""?(u(),I(g,{key:0,icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:S=>a.editassignedrow(o)},{default:r(()=>[s(k,{icon:"ri-pencil-line",size:"22",color:"#BA8B32"})]),_:2},1032,["onClick"])):C("",!0)])):C("",!0)]))),128))])]),_:2},1024)])]),_:2},1024)])])):C("",!0)],64))),128))]),s(T,{modelValue:i.dialog,"onUpdate:modelValue":t[4]||(t[4]=l=>i.dialog=l),"max-width":"400",persistent:""},{default:r(()=>[s(V,{title:"Assign Delivery Person",class:"mb-2"},{default:r(()=>[s(D,null,{default:r(()=>[s(v,null,{default:r(()=>[s(p,{cols:"12"},{default:r(()=>[s(A,{ref:"purchaseOrderForm",class:"mt-4"},{default:r(()=>[s(v,null,{default:r(()=>[s(p,{md:"12",cols:"12"},{default:r(()=>[s(E,{modelValue:i.Deliverypersondata,"onUpdate:modelValue":t[3]||(t[3]=l=>i.Deliverypersondata=l),items:i.deliveryPerson,"item-value":"value","item-title":"text",label:"Assign Delivery Person",rules:i.person,"menu-props":{maxHeight:200}},null,8,["modelValue","items","rules"])]),_:1}),s(p,{md:"12",cols:"12"},{default:r(()=>[s(g,{onClick:a.validateForm2},{default:r(()=>[_(" Save ")]),_:1},8,["onClick"]),_(" \xA0 "),s(g,{color:"secondary",variant:"tonal",onClick:a.closeDialog},{default:r(()=>[_(" Close ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(T,{modelValue:i.dialog2,"onUpdate:modelValue":t[6]||(t[6]=l=>i.dialog2=l),"max-width":"800"},{default:r(()=>[s(V,{title:"View Trip Sales Orders",class:"mb-2"},{default:r(()=>[s(D,null,{default:r(()=>[d("div",Te,[s(w,{modelValue:i.searchQuery2,"onUpdate:modelValue":t[5]||(t[5]=l=>i.searchQuery2=l),class:"mb-3",density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])]),s(F,{headers:i.headers2,items:a.paginatedItems2,"item-key":"dessert",class:"table-rounded","max-height":"90vh","max-width":"800","fixed-header":""},{default:r(()=>[d("thead",null,[d("tr",null,[(u(!0),h(x,null,y(i.headers2,l=>(u(),h("th",{key:l,class:"text-center"},c(l.text),1))),128))])]),d("tbody",null,[(u(!0),h(x,null,y(a.filteredSAwisetarget2,(l,n)=>(u(),h("tr",{key:n},[d("td",Ie,c(n+1),1),d("td",Pe,c(l.sku_name),1),d("td",Ae,c(l.shipped_ordered),1),d("td",Fe,c(l.shipped_exchange),1)]))),128))])]),_:1},8,["headers","items"]),_(),Ee,s(g,{color:"primary",onClick:a.closeDialog2},{default:r(()=>[_(" Close ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["headers","items"]),s(T,{modelValue:i.dialog3,"onUpdate:modelValue":t[9]||(t[9]=l=>i.dialog3=l),"max-width":"400",persistent:""},{default:r(()=>[s(V,{title:"SO Status Change",class:"mb-2"},{default:r(()=>[s(D,null,{default:r(()=>[s(v,null,{default:r(()=>[s(p,{cols:"12"},{default:r(()=>[s(A,{ref:"purchaseOrderForms",class:"mt-4"},{default:r(()=>[s(v,null,{default:r(()=>[s(p,{md:"12",cols:"12"},{default:r(()=>[s(E,{modelValue:i.soStatusdata,"onUpdate:modelValue":[t[7]||(t[7]=l=>i.soStatusdata=l),t[8]||(t[8]=l=>a.handlePersonSelection(i.soStatusdata))],items:["Delivered","Ready To Ship","On Hold"],label:"Assign Delivery Person",rules:i.person,"menu-props":{maxHeight:200}},null,8,["modelValue","rules"])]),_:1}),i.soStatusdata!="Delivered"?(u(),I(p,{key:0,md:"12",cols:"12"},{default:r(()=>[s(g,{onClick:a.validateForm3},{default:r(()=>[_(" Save ")]),_:1},8,["onClick"]),_(" \xA0 "),s(g,{color:"secondary",variant:"tonal",onClick:a.closeDialog3},{default:r(()=>[_(" Close ")]),_:1},8,["onClick"])]),_:1})):C("",!0)]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(T,{modelValue:i.dialog4,"onUpdate:modelValue":t[11]||(t[11]=l=>i.dialog4=l),"max-width":"900",persistent:""},{default:r(()=>[s(V,{title:"Delivery Visit",class:"mb-2"},{default:r(()=>[s(D,null,{default:r(()=>[s(v,null,{default:r(()=>[s(p,{cols:"12"},{default:r(()=>[s(A,{ref:"purchaseOrderFormss",class:"mt-4"},{default:r(()=>[s(v,null,{default:r(()=>[s(F,{headers:i.headers4,"item-key":"dessert",class:"table-rounded","max-height":"90vh","max-width":"800","fixed-header":""},{default:r(()=>[d("thead",null,[d("tr",null,[(u(!0),h(x,null,y(i.headers4,l=>(u(),h("th",{key:l,class:"text-center"},c(l.text),1))),128))])]),d("tbody",null,[(u(!0),h(x,null,y(a.filteredStockData,(l,n)=>(u(),h("tr",{key:n},[d("td",Ue,c(l.sku_name),1),d("td",Qe,c(l.shipped_ordered),1),d("td",ze,c(l.shipped_exchange),1),d("td",qe,c(l.return),1),d("td",{class:P({"has-error":a.isQuantityExceeded(l.delivered_ordered,l.shipped_ordered)})},[s(w,{modelValue:l.delivered_ordered,"onUpdate:modelValue":o=>l.delivered_ordered=o,type:"number",min:"0",style:{"min-width":"80px"},rules:a.getDeliveryRules(l),onKeydown:a.preventDecimal,onPaste:a.preventPaste},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown","onPaste"])],2),d("td",{class:P({"has-error":a.isQuantityExceeded2(l.shipped_exchange,l.delivered_exchange)})},[s(w,{modelValue:l.delivered_exchange,"onUpdate:modelValue":o=>l.delivered_exchange=o,type:"number",min:"0",style:{"min-width":"80px"},rules:a.getdeliveryexchangerule(l),onKeydown:a.preventDecimal,onPaste:a.preventPaste},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown","onPaste"])],2),d("td",{class:P({"has-error":a.isQuantityExceeded3(l.delivered_returned,l.return)})},[s(w,{modelValue:l.delivered_returned,"onUpdate:modelValue":o=>l.delivered_returned=o,type:"number",min:"0",rules:a.getdeliveryreturnrule(l),style:{"min-width":"80px"},onKeydown:a.preventDecimal,onPaste:a.preventPaste},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown","onPaste"])],2),d("td",{class:P({"has-error":a.isQuantityExceeded4(l.shipped_ordered,l.delivered_ordered,l.damaged)})},[s(w,{modelValue:l.damaged,"onUpdate:modelValue":o=>l.damaged=o,type:"number",min:"0",style:{"min-width":"80px"},rules:a.getDamagedRules(l),onKeydown:a.preventDecimal,onPaste:a.preventPaste},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown","onPaste"])],2)]))),128))])]),_:1},8,["headers"]),s(p,{md:"12",cols:"12"},{default:r(()=>[s(g,{onClick:t[10]||(t[10]=l=>a.validateForm4(e.item))},{default:r(()=>[_(" Save ")]),_:1}),_(" \xA0 "),s(g,{color:"secondary",variant:"tonal",onClick:a.closeDialog4},{default:r(()=>[_(" Close ")]),_:1},8,["onClick"]),N(s(L,{size:50,color:"primary",indeterminate:""},null,512),[[B,i.isProgress]])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(T,{modelValue:i.dialog5,"onUpdate:modelValue":t[12]||(t[12]=l=>i.dialog5=l),"max-width":"500",persistent:""},{default:r(()=>[s(V,{title:"Do You want bulk invoice creation for this trip!",class:"mb-2"},{default:r(()=>[s(D,null,{default:r(()=>[s(v,null,{default:r(()=>[s(p,{md:"12",cols:"12"},{default:r(()=>[s(g,{onClick:a.bulkinvoicecreate},{default:r(()=>[_(" Save ")]),_:1},8,["onClick"]),_(" \xA0 "),s(g,{color:"secondary",variant:"tonal",onClick:a.closeDialog5},{default:r(()=>[_(" Close ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(T,{modelValue:i.dialog6,"onUpdate:modelValue":t[14]||(t[14]=l=>i.dialog6=l),"max-width":"500",persistent:""},{default:r(()=>[s(V,{title:"POD Image Upload",class:"mb-2"},{default:r(()=>[s(D,null,{default:r(()=>[s(v,null,{default:r(()=>[s(p,{md:"12",cols:"12"},{default:r(()=>[s(J,{file:i.imageFile,"onUpdate:file":t[13]||(t[13]=l=>i.imageFile=l),label:"Image Browse",accept:".jpg, .png, .jpeg",multiple:"",onInput:a.handleFileChange},null,8,["file","onInput"])]),_:1}),s(p,{md:"12",cols:"12"},{default:r(()=>[s(g,{onClick:a.podimageupload},{default:r(()=>[_(" Save ")]),_:1},8,["onClick"]),_(" \xA0 "),s(g,{color:"secondary",variant:"tonal",onClick:a.closeDialog6},{default:r(()=>[_(" Close ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(X,{modelValue:i.page,"onUpdate:modelValue":t[15]||(t[15]=l=>i.page=l),length:Math.ceil(a.filteredSAwisetarget.length/i.pageSize),onInput:a.updatePagination},null,8,["modelValue","length","onInput"]),s(Z,{modelValue:i.snackbar,"onUpdate:modelValue":t[16]||(t[16]=l=>i.snackbar=l),timeout:3500,color:i.color},{default:r(()=>[_(c(i.snackbarText),1)]),_:1},8,["modelValue","color"])])}const Re=O(se,[["render",Oe]]),Ne={components:{AssignedTripview:Re},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Assign Trip View",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=H(),this.activeTab=M(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function Le(e,t,m,f,i,a){const l=j("AssignedTripview");return u(),h("div",null,[s(ee,{modelValue:i.activeTab,"onUpdate:modelValue":t[0]||(t[0]=n=>i.activeTab=n),"show-arrows":""},{default:r(()=>[(u(!0),h(x,null,y(i.tabs,n=>(u(),I($,{key:n.icon,value:n.tab},{default:r(()=>[s(k,{size:"20",start:"",icon:n.icon},null,8,["icon"]),_(" "+c(n.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),s(W),s(ae,{modelValue:i.activeTab,"onUpdate:modelValue":t[1]||(t[1]=n=>i.activeTab=n),class:"mt-5 disable-tab-transition",touch:!1},{default:r(()=>[s(te,{value:"account"},{default:r(()=>[s(l)]),_:1})]),_:1},8,["modelValue"])])}const st=O(Ne,[["render",Le]]);export{st as default};
