import{_ as b,o as i,c as u,g as a,w as r,i as d,j as g,k as w,l as m,m as p,b as n,t as h,v as k,e as C,r as v,F as _,q as x,f as T,u as y,s as N}from"./index.08705643.js";import{s as F}from"./Services.f9e4372b.js";import{V as I}from"./VForm.eec84c64.js";import{V as f}from"./VTextField.0584a3e6.js";import{V as U}from"./VSnackbar.89c018e7.js";import{V as B,a as S,b as q,c as D}from"./VWindowItem.2d182e11.js";import"./VCounter.d136124c.js";const M={mixins:[F],data(){return{Newpasswordrules:[o=>!!o||"New Password is required",o=>o&&o.length>=5&&o.length<=15||"Passwords length should be 5 to 15"],Conpasswordrules:[o=>!!o||"Confirm Password is required",o=>o&&o.length>=5&&o.length<=15||"Passwords length should be 5 to 15"],newPassword:"",confirmPassword:"",isNewPasswordVisible:!1,isConfirmPasswordVisible:!1,userIddata:"",snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1}},mounted(){this.userIddata=localStorage.getItem("user_id")},methods:{validateForm(){this.$refs.purchaseOrderForm.validate().then(o=>{o.valid==!0?this.passwordsMatch()?this.changepassworddetails():(this.snackbar=!0,this.snackbarText="New Password and Confirm Password do not match",this.color="error"):(this.snackbar=!0,this.snackbarText="Please fill in all mandatory fields",this.color="error")})},passwordsMatch(){return this.newPassword===this.confirmPassword},changepassworddetails(){const o={user_id:this.userIddata,new_password:this.newPassword};console.log("chec password",o),this.Changepasswords(o).then(e=>{console.log("check response",e),e.data.status==1?(this.snackbar=!0,this.snackbarText=e.data.messgae,this.color="primary",this.newPassword="",this.confirmPassword=""):(this.snackbar=!0,this.snackbarText=e.data.message,this.color="on-background",this.newPassword="",this.confirmPassword="")})}}};function O(o,e,V,P,s,c){return i(),u("div",null,[a(m,null,{default:r(()=>[a(d,{cols:"12"},{default:r(()=>[a(g,{title:"Update Password"},{default:r(()=>[a(I,{class:"mt-6",ref:"purchaseOrderForm"},{default:r(()=>[a(w,null,{default:r(()=>[a(m,null,{default:r(()=>[a(d,{cols:"12",md:"6"},{default:r(()=>[a(f,{modelValue:s.newPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.newPassword=t),rules:s.Newpasswordrules,type:s.isNewPasswordVisible?"text":"password","append-inner-icon":s.isNewPasswordVisible?"mdi-eye-off-outline":"mdi-eye-outline",label:"New Password","onClick:appendInner":e[1]||(e[1]=t=>s.isNewPasswordVisible=!s.isNewPasswordVisible)},null,8,["modelValue","rules","type","append-inner-icon"])]),_:1}),a(d,{cols:"12",md:"6"},{default:r(()=>[a(f,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.confirmPassword=t),rules:s.Conpasswordrules,type:s.isConfirmPasswordVisible?"text":"password","append-inner-icon":s.isConfirmPasswordVisible?"mdi-eye-off-outline":"mdi-eye-outline",label:"Confirm New Password","onClick:appendInner":e[3]||(e[3]=t=>s.isConfirmPasswordVisible=!s.isConfirmPasswordVisible)},null,8,["modelValue","rules","type","append-inner-icon"])]),_:1})]),_:1})]),_:1}),a(w,{class:"d-flex flex-wrap gap-4"},{default:r(()=>[a(p,{onClick:e[4]||(e[4]=t=>c.validateForm())},{default:r(()=>[n("Save changes")]),_:1}),a(p,{type:"reset",color:"secondary",variant:"tonal"},{default:r(()=>[n(" Reset ")]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),a(U,{modelValue:s.snackbar,"onUpdate:modelValue":e[5]||(e[5]=t=>s.snackbar=t),timeout:3500,color:s.color},{default:r(()=>[n(h(s.snackbarText),1)]),_:1},8,["modelValue","color"])])}const W=b(M,[["render",O]]),j={components:{Changepassworddetails:W},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Update Password",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=k(),this.activeTab=C(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function z(o,e,V,P,s,c){const t=v("Changepassworddetails");return i(),u("div",null,[a(S,{modelValue:s.activeTab,"onUpdate:modelValue":e[0]||(e[0]=l=>s.activeTab=l),"show-arrows":""},{default:r(()=>[(i(!0),u(_,null,x(s.tabs,l=>(i(),T(B,{key:l.icon,value:l.tab},{default:r(()=>[a(y,{size:"20",start:"",icon:l.icon},null,8,["icon"]),n(" "+h(l.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a(N),a(D,{modelValue:s.activeTab,"onUpdate:modelValue":e[1]||(e[1]=l=>s.activeTab=l),class:"mt-5 disable-tab-transition",touch:!1},{default:r(()=>[a(q,{value:"account"},{default:r(()=>[a(t)]),_:1})]),_:1},8,["modelValue"])])}const Q=b(j,[["render",z]]);export{Q as default};
