import{_ as f,o as n,c as m,g as t,w as s,i,j as v,k,l as p,m as g,b as c,t as b,v as T,e as _,F as x,q as w,s as F,r as I,f as C,u as S}from"./index.35f87e96.js";import{s as E}from"./Services.e0720533.js";import{V as W}from"./VForm.e7a655c5.js";import{V as u}from"./VTextField.87e1f88e.js";import{V as y}from"./VFileInput.4ce24004.js";import{V as U}from"./VSnackbar.2c49f97e.js";import{V as D,a as q,b as B,c as A}from"./VWindowItem.f13e0119.js";import"./VCounter.5233bcc0.js";import"./VChip.823273b5.js";const N={mixins:[E],data(){return{snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,weekname:[e=>!!e||"Weekname is required"],startdate:[e=>!!e||"Startdate is required"],Enddates:[e=>!!e||"Enddate is required"],fileRules:[e=>!!e||"File is required",e=>e&&e.size>0||"File is empty or invalid"],Importcsv:null,Weekname:"",Startdate:"",Enddate:""}},mounted(){},methods:{validateForm(){this.$refs.tripform.validate().then(e=>{e.valid==!0?this.saveTripdata():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},handleFileChange(e){e.target.files.length>0?(this.Importcsv=e.target.files[0],console.log("File Selected:",this.Importcsv)):this.Importcsv=null},saveTripdata(){const e=new FormData;this.Importcsv&&e.append("import_csv",this.Importcsv),e.append("week_name",this.Weekname),e.append("start_date",this.Startdate),e.append("end_date",this.Enddate),this.saveTrip(e).then(a=>{a.data.status==1?(this.snackbar=!0,this.snackbarText=a.data.message,this.color="primary",this.Importcsv="",this.Weekname="",this.Startdate="",this.Enddate="",window.location.reload(!0)):a.data.status==0?(this.snackbar=!0,this.snackbarText=a.data.message,this.color="on-background"):(this.snackbar=!0,this.color="on-background",this.snackbarText="File Is Mandatory")}).catch(a=>{console.error("Error uploading file:",a)})}}};function R(e,a,V,h,l,d){return n(),m("div",null,[t(p,null,{default:s(()=>[t(i,{cols:"12"},{default:s(()=>[t(v,{title:"Add SA Targets",class:"mb-4"},{default:s(()=>[t(k,null,{default:s(()=>[t(W,{class:"mt-6",ref:"tripform"},{default:s(()=>[t(p,null,{default:s(()=>[t(i,{md:"6",cols:"12"},{default:s(()=>[t(u,{modelValue:this.Weekname,"onUpdate:modelValue":a[0]||(a[0]=r=>this.Weekname=r),label:"Week Name",rules:l.weekname},null,8,["modelValue","rules"])]),_:1}),t(i,{cols:"12",md:"6"},{default:s(()=>[t(u,{type:"date",modelValue:this.Startdate,"onUpdate:modelValue":a[1]||(a[1]=r=>this.Startdate=r),rules:l.startdate,label:"Start Date"},null,8,["modelValue","rules"])]),_:1}),t(i,{cols:"12",md:"6"},{default:s(()=>[t(u,{modelValue:this.Enddate,"onUpdate:modelValue":a[2]||(a[2]=r=>this.Enddate=r),type:"date",label:"End Date",rules:l.Enddates},null,8,["modelValue","rules"])]),_:1}),t(i,{md:"6",cols:"12"},{default:s(()=>[t(y,{file:l.Importcsv,"onUpdate:file":a[3]||(a[3]=r=>l.Importcsv=r),label:"File Browse",accept:".csv, .xls, .xlsx",onInput:d.handleFileChange,multiple:""},null,8,["file","onInput"])]),_:1}),t(i,{cols:"12",class:"d-flex flex-wrap gap-4",onClick:d.validateForm},{default:s(()=>[t(g,null,{default:s(()=>[c("Save")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1}),t(U,{modelValue:l.snackbar,"onUpdate:modelValue":a[4]||(a[4]=r=>l.snackbar=r),timeout:3500,color:l.color},{default:s(()=>[c(b(l.snackbarText),1)]),_:1},8,["modelValue","color"])])}const z=f(N,[["render",R]]),j={components:{Createsatargets:z},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Create SA Tragets",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=T(),this.activeTab=_(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function L(e,a,V,h,l,d){const r=I("Createsatargets");return n(),m("div",null,[t(D,{modelValue:l.activeTab,"onUpdate:modelValue":a[0]||(a[0]=o=>l.activeTab=o),"show-arrows":""},{default:s(()=>[(n(!0),m(x,null,w(l.tabs,o=>(n(),C(A,{key:o.icon,value:o.tab},{default:s(()=>[t(S,{size:"20",start:"",icon:o.icon},null,8,["icon"]),c(" "+b(o.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t(F),t(B,{modelValue:l.activeTab,"onUpdate:modelValue":a[1]||(a[1]=o=>l.activeTab=o),class:"mt-5 disable-tab-transition",touch:!1},{default:s(()=>[t(q,{value:"account"},{default:s(()=>[t(r)]),_:1})]),_:1},8,["modelValue"])])}const Y=f(j,[["render",L]]);export{Y as default};
