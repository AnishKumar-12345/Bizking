import{_ as g,o as r,c as i,g as t,w as e,i as n,j as v,k as x,l as S,m as p,a as d,F as V,s as f,t as c,b as m,n as b,x as O,e as D,u as w,r as T,f as q,v as C}from"./index.2c6dfeb2.js";import{s as F}from"./Services.1028c5df.js";import{V as U}from"./VForm.e7c1a600.js";import{V as B}from"./VSelect.010b0c39.js";import{V as R}from"./VTable.201050f6.js";import{V as Q}from"./VChip.4cba9e46.js";import{V as $,a as E,b as N,c as z}from"./VWindowItem.58476b0e.js";import"./index.2bd8ddc8.js";import"./VCheckboxBtn.cb7b65b5.js";const A={mixins:[F],props:["so_id"],data(){return{selectedPurchaseOrder:null,dialog:!1,Soid:"",OutputStockDetails:[],today:this.getFormattedDate(new Date),outputStock:{so_id:"",so_number:"",merchant_id:"",merchant_code:"",merchant_name:"",total_cgst:"",total_sgst:"",sub_total:"",total_margin:"",total_so_amount:"",total_quantity:"",created_date:"",shipped_date:this.getFormattedDate(new Date),so_status:"",products:[{merchant_product_id:"",sku_name:"",hsn_code:"",mrp:"",margin:"",ordered_quantity:"",warehouse_quantity:"",uom:"",price_per_unit:"",taxable_amount:"",cgst:"",sgst:"",amount:"",shipping_quantity:""}]},outputStockproducts:[],headers:[{text:"Exchange Quantity",value:"EQuantity"},{text:"Ordered Quantity",value:"OQuantity"},{text:"Available",value:"available"},{text:"Shipped",value:"shipped"}]}},computed:{},mounted(){this.Soid=this.$route.query.so_id,console.log("Received po_id:",this.Soid),this.getOutputstockdetails()},methods:{getFormattedDate(s){const a=s.getFullYear(),_=String(s.getMonth()+1).padStart(2,"0"),h=String(s.getDate()).padStart(2,"0");return`${a}-${_}-${h}`},getOutputstockdetails(){this.getOutputstock(this.Soid).then(s=>{this.OutputStockDetails=s.data,console.log("check output dtock",this.OutputStockDetails.so_number),this.outputStock.so_number=this.OutputStockDetails.so_number,this.outputStock.merchant_name=this.OutputStockDetails.merchant_name,this.outputStock.so_status=this.OutputStockDetails.so_status,this.outputStockproducts=this.OutputStockDetails.products})},resolveStatusVariant(s){return s.warehouse_quantity<s.ordered_quantity?{color:"error"}:{color:"success"}},deleteRow(s){const a=this.desserts.indexOf(s);a!==-1&&this.desserts.splice(a,1)},openproductdialog(){console.log("check the dialog"),this.dialog=!0},closeDialog(){this.dialog=!1}}},I={class:"text-center"},W={class:"text-center"},j={class:"text-center"},L={class:"text-center"};function M(s,a,_,h,u,k){return r(),i("div",null,[t(S,null,{default:e(()=>[t(n,{cols:"12"},{default:e(()=>[t(v,{title:"Output Stock",class:"mb-4"},{default:e(()=>[t(x,null,{default:e(()=>[t(U,{class:"mt-6"},{default:e(()=>[t(S,null,{default:e(()=>[t(n,{md:"6",cols:"12"},{default:e(()=>[t(p,{modelValue:this.outputStock.so_number,"onUpdate:modelValue":a[0]||(a[0]=o=>this.outputStock.so_number=o),label:"Sales Order",readonly:""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:e(()=>[t(p,{modelValue:this.outputStock.merchant_name,"onUpdate:modelValue":a[1]||(a[1]=o=>this.outputStock.merchant_name=o),label:"Order From",readonly:""},null,8,["modelValue"])]),_:1}),t(n,{cols:"12",md:"6"},{default:e(()=>[t(p,{modelValue:this.outputStock.shipped_date,"onUpdate:modelValue":a[2]||(a[2]=o=>this.outputStock.shipped_date=o),type:"date",label:"Date",min:u.today,readonly:""},null,8,["modelValue","min"])]),_:1}),t(n,{md:"6",cols:"12"},{default:e(()=>[t(B,{modelValue:this.outputStock.so_status,"onUpdate:modelValue":a[3]||(a[3]=o=>this.outputStock.so_status=o),label:"SO Status",readonly:"",items:["Draft","Created","Shared","Acknowledged"]},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:e(()=>[t(R,{headers:u.headers,items:u.OutputStockDetails},{default:e(()=>[d("thead",null,[d("tr",null,[(r(!0),i(V,null,f(u.headers,o=>(r(),i("th",{class:"text-center",key:o},c(o.text),1))),128))])]),d("tbody",null,[(r(!0),i(V,null,f(this.outputStockproducts,(o,l)=>(r(),i("tr",{key:l},[d("td",I,c(o.exchange_quantity),1),d("td",W,c(o.ordered_quantity),1),d("td",j,[t(Q,{color:k.resolveStatusVariant(o).color,class:"font-weight-medium",size:"small"},{default:e(()=>[m(c(o.warehouse_quantity),1)]),_:2},1032,["color"])]),d("td",L,[t(p,{modelValue:o.shipped,"onUpdate:modelValue":y=>o.shipped=y,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1},8,["headers","items"])]),_:1}),t(n,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:e(()=>[t(b,null,{default:e(()=>[m("Save")]),_:1}),t(b,{color:"secondary",variant:"tonal",type:"reset"},{default:e(()=>[m(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const P=g(A,[["render",M]]),Y={components:{Outputstock:P},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Create Output Stock",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=O(),this.activeTab=D(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function G(s,a,_,h,u,k){const o=T("Outputstock");return r(),i("div",null,[t($,{modelValue:u.activeTab,"onUpdate:modelValue":a[0]||(a[0]=l=>u.activeTab=l),"show-arrows":""},{default:e(()=>[(r(!0),i(V,null,f(u.tabs,l=>(r(),q(z,{key:l.icon,value:l.tab},{default:e(()=>[t(C,{size:"20",start:"",icon:l.icon},null,8,["icon"]),m(" "+c(l.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t(w),t(N,{modelValue:u.activeTab,"onUpdate:modelValue":a[1]||(a[1]=l=>u.activeTab=l),class:"mt-5 disable-tab-transition",touch:!1},{default:e(()=>[t(E,{value:"account"},{default:e(()=>[t(o)]),_:1})]),_:1},8,["modelValue"])])}const st=g(Y,[["render",G]]);export{st as default};
