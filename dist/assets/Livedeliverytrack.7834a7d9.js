import{_ as g,o as n,c,g as i,w as d,k as b,l as V,i as x,j as y,a as o,b8 as m,F as v,q as h,t as l,b as _,bp as k,bq as T,v as S,e as w,s as D,r as C,f as I,u as L}from"./index.7e5301d2.js";import{s as N}from"./Services.e2ee330a.js";import{V as z}from"./VAutocomplete.8599a9d6.js";import{V as Q}from"./VTextField.969f3f52.js";import{V as U}from"./VTable.dc5363c0.js";import{V as j}from"./VPagination.c14eede1.js";import{V as B}from"./VSnackbar.3334e156.js";import{V as O,a as R,b as P,c as q}from"./VWindowItem.f305b40e.js";import"./VSelect.2e908d75.js";import"./VCheckboxBtn.96ebc215.js";import"./VCounter.f7f19471.js";import"./VChip.af398333.js";const A={mixins:[N],data(){return{searchQuery:"",searchQuery2:"",searchQuery3:"",searchQuery4:"",snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,loading:!1,deliveryTrack:[],visitagegapabove5:[],interval:null,cityID:"",page:1,pageSize:10,page2:1,pageSize2:10,dialog:!1,dialog2:!1,dialog3:!1,locationsdata:[],page3:1,pageSize3:10,page4:1,pageSize4:10,headers:[{text:"Driver Name",value:"sa_name"},{text:"Route Name",value:"route_name"},{text:"Status",value:"status"},{text:"SO Deliveries as Planned",value:"so_deliveries_planed"},{text:"SO Deliveries Completed",value:"visited_stores_count"},{text:"SO Deliveries On Route",value:"so_deliveries_on_route"},{text:"SO Deliveries Rejected/Onhold",value:"so_deliveries_rejected_onhold"},{text:"Login Time",value:"login_time"},{text:"Logout Time",value:"logout_time"}]}},computed:{filteredvisithealth(){const a=this.searchQuery.toLowerCase().trim();return this.deliveryTrack.filter(e=>e.sa_name&&e.sa_name.toLowerCase().includes(a)||e.route_name&&e.route_name.toLowerCase().includes(a)||e.stores_count&&e.stores_count.toString().includes(a)||e.visited_stores_count&&e.visited_stores_count.toString().includes(a)||e.status&&e.status.toLowerCase().includes(a)||e.login_time&&e.login_time.toLowerCase().includes(a)||e.logout_time&&e.logout_time.toLowerCase().includes(a)||e.so_deliveries_on_route&&e.so_deliveries_on_route.toString().includes(a)||e.so_deliveries_rejected_onhold&&e.so_deliveries_rejected_onhold.toString().includes(a))},paginatedItems(){const a=(this.page-1)*this.pageSize,e=a+this.pageSize;return this.filteredvisithealth.slice(a,e)}},mounted(){this.getBranchnames()},beforeUnmount(){this.interval&&clearInterval(this.interval)},methods:{getSAvisittarck(a){this.deliveryTrack=[],this.loading=!0,this.getDeliveryTrack(a).then(e=>{console.log({response:e}),e.data.status==1?(this.snackbarText=e.data.message,this.color="primary",this.snackbar=!0,this.deliveryTrack=e.data.data,this.loading=!1):(this.snackbarText=e.data.message,this.color="on-background",this.snackbar=!0,this.loading=!1)})},updatePagination(a){this.page=a},getBranchnames(){this.Locationdata().then(a=>{this.locationsdata=a.data.data.map(e=>({value:e.city_id,text:e.city})),console.log("ceck tye res",this.locationsdata)})}}},F={style:{"max-width":"400px"}},W={key:0,id:"app"},E=k('<div id="loading-bg"><div class="loading-logo"><img src="'+T+'" height="60" width="68" alt="Logo"></div><div class="loading"><div class="effect-1 effects"></div><div class="effect-2 effects"></div><div class="effect-3 effects"></div></div></div>',1),H=[E],M={key:0},G=o("td",{colspan:"16",class:"text-center"},[o("h1",null,"No data found !")],-1),J=[G],K={class:"text-center"},X={class:"text-center"},Y={class:"text-center"},Z={class:"text-center"},$={class:"text-center"},ee={class:"text-center"},te={class:"text-center"},se={class:"text-center"},ae={class:"text-center"};function oe(a,e,p,f,s,u){return n(),c("div",null,[i(y,{class:"mb-4"},{default:d(()=>[i(b,null,{default:d(()=>[i(V,null,{default:d(()=>[i(x,{cols:"12",md:"6"},{default:d(()=>[i(z,{modelValue:s.cityID,"onUpdate:modelValue":[e[0]||(e[0]=t=>s.cityID=t),e[1]||(e[1]=t=>u.getSAvisittarck(s.cityID))],label:"City Names",items:s.locationsdata,"item-title":"text","item-value":"value",rules:a.locationrules,required:"","menu-props":{maxHeight:200}},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),o("div",F,[i(Q,{modelValue:s.searchQuery,"onUpdate:modelValue":e[2]||(e[2]=t=>s.searchQuery=t),class:"mb-3",density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])]),s.loading?(n(),c("div",W,H)):m("",!0),i(U,{headers:s.headers,items:u.paginatedItems,"item-key":"dessert",class:"table-rounded",height:"500","fixed-header":""},{default:d(()=>[o("thead",null,[o("tr",null,[(n(!0),c(v,null,h(s.headers,t=>(n(),c("th",{key:t,class:"text-center"},l(t.text),1))),128))])]),o("tbody",null,[u.filteredvisithealth.length===0?(n(),c("tr",M,J)):m("",!0),(n(!0),c(v,null,h(u.paginatedItems,(t,r)=>(n(),c("tr",{key:r},[o("td",K,l(t.sa_name),1),o("td",X,l(t.route_name),1),_(),o("td",Y,l(t.status),1),_(),o("td",Z,l(t.so_deliveries_planed),1),_(),o("td",$,l(t.visited_stores_count),1),_(),o("td",ee,l(t.so_deliveries_on_route),1),o("td",te,l(t.so_deliveries_rejected_onhold),1),o("td",se,l(t.login_time),1),_(),o("td",ae,l(t.logout_time),1)]))),128))])]),_:1},8,["headers","items"]),i(j,{modelValue:s.page,"onUpdate:modelValue":e[3]||(e[3]=t=>s.page=t),length:Math.ceil(u.filteredvisithealth.length/s.pageSize),onInput:u.updatePagination},null,8,["modelValue","length","onInput"]),i(B,{modelValue:s.snackbar,"onUpdate:modelValue":e[4]||(e[4]=t=>s.snackbar=t),timeout:3500,color:s.color},{default:d(()=>[_(l(s.snackbarText),1)]),_:1},8,["modelValue","color"])])}const ie=g(A,[["render",oe]]),le={components:{Deliverytrack:ie},data(){return{currentroute:"",activeTab:"",tabs:[{title:"View Delivery Track",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=S(),this.activeTab=w(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function re(a,e,p,f,s,u){const t=C("Deliverytrack");return n(),c("div",null,[i(O,{modelValue:s.activeTab,"onUpdate:modelValue":e[0]||(e[0]=r=>s.activeTab=r),"show-arrows":""},{default:d(()=>[(n(!0),c(v,null,h(s.tabs,r=>(n(),I(q,{key:r.icon,value:r.tab},{default:d(()=>[i(L,{size:"20",start:"",icon:r.icon},null,8,["icon"]),_(" "+l(r.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),i(D),i(P,{modelValue:s.activeTab,"onUpdate:modelValue":e[1]||(e[1]=r=>s.activeTab=r),class:"mt-5 disable-tab-transition",touch:!1},{default:d(()=>[i(R,{value:"account"},{default:d(()=>[i(t)]),_:1})]),_:1},8,["modelValue"])])}const Ve=g(le,[["render",re]]);export{Ve as default};
