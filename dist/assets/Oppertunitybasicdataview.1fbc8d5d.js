import{_ as C,o as r,c as m,g as a,b7 as N,b8 as _,w as l,i as d,j as x,k as S,l as y,a4 as R,m as b,b as g,ac as B,t as h,f as O,a as n,F as k,q as w,u as F,bE as H,bo as M,v as E,e as W,s as G,r as V}from"./index.02569eb3.js";import{s as I}from"./Services.5beecd74.js";import{V as T}from"./VForm.addaf2b7.js";import{V as c}from"./VTextField.aaf475be.js";import{V as P}from"./VSelect.2a4ca245.js";import{V as D}from"./VSnackbar.ebed5748.js";import{V as q}from"./VTextarea.bc87b1b9.js";import{V as A}from"./VTable.ec214a39.js";import{V as z}from"./VPagination.b38e5e36.js";import{V as j}from"./VDialog.c7815d52.js";import{G as Y}from"./GenerateQuote.fd8b1a22.js";import{V as Z,a as J}from"./VAlert.136327ca.js";import{V as K,a as L,b as X,c as $}from"./VWindowItem.d604dae5.js";import"./VCheckboxBtn.967db799.js";import"./VChip.5b54eb75.js";import"./VCheckbox.6367b910.js";const ee={mixins:[I],data(){return{loading:!0,snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,satusrules:[e=>!!e||"Status is required"],storearules:[e=>!!e||"Store Address is required"],locationrules:[e=>!!e||"Location is required"],storerules:[e=>!!e||"Store Name is required"],uidrules:[e=>!!e||"UID is required"],namerules:[e=>!!e||"Lead is required"],authrules:[e=>!!e||"Authority is required"],namerules1:[e=>!!e||"Name is required",e=>/^[a-z A-Z]+$/.test(e)||"Only letters are allowed in the name"],gstrules:[e=>!!e||"GST is required"],pinrules:[e=>!!e||"PIN is required",e=>e&&/^\d{6}$/.test(e)||"PIN must be 6 digits"],emailRules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"The email must be valid with the correct format: @ and . symbols"],phonerules:[e=>!!e||" Mobile  is required",e=>/^[0-9]+$/.test(e)||"only number are accepted",e=>e&&e.length<=10&&e.length>=10||"Mobile must be  10 number"],dialog:!1,Leadid:null,saveLeads:{opportunity_type:"",name:"",address:"",email:"",pincode:"",lead_id:"",owner_name:"",owner_phone:"",poc_name:"",poc_phone:"",latitude:"",longitude:"",gst:"",decision_authority:"",opportunity_no:"",opportunity_id:"",user_id:"",location:"",status:""},loggedby:"",createdby:"",headers:[{text:"Purchase Order",value:"po"},{text:"Order Date",value:"ODate"},{text:"Status",value:"status"},{text:"Order To",value:"OT"},{text:"Shipped To",value:"ST"},{text:"Total",value:"total"},{text:"Action",value:"actions",sortable:!1}]}},computed:{selectedItem(){return this.$store.state.selectedItem}},mounted(){this.createdby=localStorage.getItem("user_id"),this.Leadid=this.$route.query.opportunity_id,this.loggedby=localStorage.getItem("createdby"),this.editLeadsdata().then(()=>{this.loading=!1}).catch(e=>{console.error("Error fetching merchants:",e)})},methods:{validateForm(){this.$refs.purchaseOrderForm.validate().then(e=>{e.valid==!0?this.updateLeaddata():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},updateLeaddata(){const e={Created:"created","Partially interested":"partially interested",Cancelled:"cancelled","Closed(Onboard)":"close"},t={Owner:"owner",POC:"poc"},i={opportunity_type:this.saveLeads.opportunity_type,opportunity_id:this.saveLeads.opportunity_id,opportunity_no:this.saveLeads.opportunity_no,latitude:this.saveLeads.latitude,longitude:this.saveLeads.longitude,name:this.saveLeads.name,address:this.saveLeads.address,email:this.saveLeads.email,pincode:this.saveLeads.pincode,owner_name:this.saveLeads.owner_name,owner_phone:this.saveLeads.owner_phone,poc_name:this.saveLeads.poc_name,poc_phone:this.saveLeads.poc_phone,user_id:this.createdby,gst:this.saveLeads.gst,decision_authority:t[this.saveLeads.decision_authority]?t[this.saveLeads.decision_authority]:this.saveLeads.decision_authority,location:this.saveLeads.location,status:e[this.saveLeads.status]?e[this.saveLeads.status]:this.saveLeads.status};this.updateOppertunitydetails(i).then(p=>{p.data.status==1?(this.snackbar=!0,this.snackbarText=p.data.message,this.color="primary",window.location.reload(!0)):(this.snackbar=!0,this.snackbarText=p.data.message,this.color="on-background",this.saveLeads={})})},editLeadsdata(){return new Promise((e,t)=>{this.getOppertunitydetails(this.Leadid).then(i=>{console.log("oppertunity",i),this.saveLeads.opportunity_type=i.data.data.lead_type,this.saveLeads.opportunity_id=i.data.data.opportunity_id,this.saveLeads.opportunity_no=i.data.data.opportunity_no,this.saveLeads.address=i.data.data.address,this.saveLeads.email=i.data.data.email,this.saveLeads.decision_authority=i.data.data.decision_authority=="owner"?"Owner":i.data.data.decision_authority=="poc"?"POC":"poc",this.saveLeads.gst=i.data.data.gst,this.saveLeads.name=i.data.data.name,this.saveLeads.lead_id=i.data.data.lead_id,this.saveLeads.owner_name=i.data.data.owner_name,this.saveLeads.owner_phone=i.data.data.owner_phone,this.saveLeads.poc_name=i.data.data.poc_name,this.saveLeads.poc_phone=i.data.data.poc_phone,this.saveLeads.pincode=i.data.data.pincode,this.saveLeads.location=i.data.data.location,this.saveLeads.status=i.data.data.status=="created"?"Created":i.data.data.status=="cancelled"?"Cancelled":i.data.data.status=="close"?"Closed(Onboard)":i.data.data.status,this.saveLeads.longitude=i.data.data.longitude?i.data.data.longitude:"",this.saveLeads.latitude=i.data.data.latitude?i.data.data.latitude:"",e()}).catch(i=>{console.error("Error fetching merchants:",i),t(i)})})}}},te={key:0,class:"loading-container"};function ae(e,t,i,p,s,u){return r(),m("div",null,[s.loading?(r(),m("div",te,[a(N,{height:"5",color:"primary",indeterminate:"",class:"custom-loader","full-width":""})])):_("",!0),a(y,null,{default:l(()=>[a(d,{cols:"12"},{default:l(()=>[a(x,{title:"Opportunity Basic data",class:"mb-4"},{default:l(()=>[a(S,null,{default:l(()=>[a(T,{class:"mt-6",ref:"purchaseOrderForm"},{default:l(()=>[a(y,null,{default:l(()=>[a(d,{cols:"12",md:"6"},{default:l(()=>[a(c,{modelValue:s.saveLeads.opportunity_type,"onUpdate:modelValue":t[0]||(t[0]=o=>s.saveLeads.opportunity_type=o),label:"Opportunity Type",rules:s.storerules,readonly:""},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",md:"6"},{default:l(()=>[a(c,{modelValue:s.saveLeads.name,"onUpdate:modelValue":t[1]||(t[1]=o=>s.saveLeads.name=o),label:"Brand / Merchant Name",rules:s.storerules},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",md:"6"},{default:l(()=>[a(c,{modelValue:s.loggedby,"onUpdate:modelValue":t[2]||(t[2]=o=>s.loggedby=o),label:"Lead Handler",readonly:""},null,8,["modelValue"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.address,"onUpdate:modelValue":t[3]||(t[3]=o=>s.saveLeads.address=o),label:"Address",rules:s.storearules},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.email,"onUpdate:modelValue":t[4]||(t[4]=o=>s.saveLeads.email=o),label:"Email",rules:s.emailRules},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.gst,"onUpdate:modelValue":t[5]||(t[5]=o=>s.saveLeads.gst=o),label:"GST"},null,8,["modelValue"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.pincode,"onUpdate:modelValue":t[6]||(t[6]=o=>s.saveLeads.pincode=o),label:"Area PinCode",rules:s.pinrules},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.poc_name,"onUpdate:modelValue":t[7]||(t[7]=o=>s.saveLeads.poc_name=o),rules:s.namerules1,label:"POC Name"},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.poc_phone,"onUpdate:modelValue":t[8]||(t[8]=o=>s.saveLeads.poc_phone=o),rules:s.phonerules,label:"POC Phone"},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.owner_name,"onUpdate:modelValue":t[9]||(t[9]=o=>s.saveLeads.owner_name=o),rules:s.namerules1,label:"Owner Name"},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.owner_phone,"onUpdate:modelValue":t[10]||(t[10]=o=>s.saveLeads.owner_phone=o),rules:s.phonerules,label:"Owner Phone"},null,8,["modelValue","rules"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(P,{modelValue:s.saveLeads.decision_authority,"onUpdate:modelValue":t[11]||(t[11]=o=>s.saveLeads.decision_authority=o),items:["Owner","POC"],label:"Decision Authority"},null,8,["modelValue"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.longitude,"onUpdate:modelValue":t[12]||(t[12]=o=>s.saveLeads.longitude=o),readonly:"",label:"Longitude"},null,8,["modelValue"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(c,{modelValue:s.saveLeads.latitude,"onUpdate:modelValue":t[13]||(t[13]=o=>s.saveLeads.latitude=o),readonly:"",label:"Longitude"},null,8,["modelValue"])]),_:1}),a(d,{md:"6",cols:"12"},{default:l(()=>[a(P,{modelValue:s.saveLeads.status,"onUpdate:modelValue":t[14]||(t[14]=o=>s.saveLeads.status=o),rules:s.satusrules,items:["Created","Cancelled","Closed(Onboard)"],label:"Opportunity Status"},null,8,["modelValue","rules","items"])]),_:1}),a(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[R(a(b,{onClick:u.validateForm},{default:l(()=>[g("Save")]),_:1},8,["onClick"]),[[B,u.selectedItem.status!="close"]])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1}),a(D,{modelValue:s.snackbar,"onUpdate:modelValue":t[15]||(t[15]=o=>s.snackbar=o),timeout:3500,color:s.color},{default:l(()=>[g(h(s.snackbarText),1)]),_:1},8,["modelValue","color"])])}const se=C(ee,[["render",ae]]),oe={mixins:[I],data(){return{page:1,pageSize:10,searchQuery:"",today:this.getFormattedDate(new Date),snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,workinfoupdate:{summary:"",working_notes:"",opportunity_id:"",schedule_next_visit:"",opportunity_info_id:""},statusss:"",workinfo:{summary:"",working_notes:"",visit_status:"",schedule_next_visit:""},Leadid:"",maxPaginationPages:5,workingRules:[e=>!!e||"Working Notes is required"],visitRules:[e=>!!e||"Visit Status is required"],summaryRules:[e=>!!e||"Summary is required"],uomRules:[e=>!!e||"UOM is required"],pinrules:[e=>!!e||"PIN is required"],phonerules:[e=>!!e||" Mobile  is required",e=>/^[0-9]+$/.test(e)||"only number are accepted",e=>e&&e.length<=10&&e.length>=10||"Mobile must be  10 number"],snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,dialog:!1,loading:!0,page:1,pageSize:10,products:[],saveProduct:{merchant_uid:"",brand_name:"",sku_name:"",uom:"",hsn_code:"",mrp:"",status:"",brand_id:"",brand_product_id:"",total_given_margin:"",sgst:"",cgst:"",pitch_from:"",final_retail_cp:"",final_ret:"",bk_profit:"",bizkingz_cp_final:"",bc_margin_amt:"",bc_margin:""},salesdata:[],BrandNames:[],selectedBrand:null,userRole:"",dialog9:!1,createdby:"",userId:"",workInfo:[],headers:[{text:"Date",value:"created_date"},{text:"Updated Date",value:"updated_date"},{text:"Summary",value:"summary"},{text:"Notes",value:"working_notes"},{text:"Schedule Next Visit ",value:"schedule_next_visit"}]}},computed:{shouldShowButton(){return this.statusss!=="close"},filteredSalesHistory(){const e=this.searchQuery.toLowerCase().trim();return this.workInfo.filter(t=>t.created_date&&t.created_date.toLowerCase().includes(e)||t.updated_date&&t.updated_date.toLowerCase().includes(e)||t.summary&&t.summary.toLowerCase().includes(e)||t.working_notes&&t.working_notes.toString().includes(e)||t.visit_status&&t.visit_status.toLowerCase().includes(e))},paginatedItems(){const e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.filteredSalesHistory.slice(e,t)}},mounted(){this.Leadid=this.$route.query.opportunity_id,console.log("check the id",this.Leadid),this.updateLeadsdata()},methods:{updatePagination(e){this.page=e},closeinfo(){this.dialog9=!1,this.workinfoupdate={}},validateForm2(){this.$refs.purchaseOrderForm8.validate().then(e=>{e.valid==!0?this.updateworkinfo():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},updateworkinfo(){const e={opportunity_info_id:this.workinfoupdate.opportunity_info_id,opportunity_id:this.workinfoupdate.opportunity_id,summary:this.workinfoupdate.summary,working_notes:this.workinfoupdate.working_notes,schedule_next_visit:this.workinfoupdate.schedule_next_visit};console.log("check the data",e),this.UpdateLeadInfo(e).then(t=>{t.data.status==1?(this.snackbar=!0,this.snackbarText=t.data.message,this.color="primary",this.workinfoupdate={},this.updateLeadsdata(),this.dialog9=!1):(this.snackbar=!0,this.snackbarText=t.data.message,this.color="on-background",this.workinfoupdate={},this.dialog9=!1)})},editWorkinfo(e){console.log("check d",e),this.dialog9=!0,this.workinfoupdate.summary=e.summary,this.workinfoupdate.schedule_next_visit=e.schedule_next_visit,this.workinfoupdate.working_notes=e.working_notes,this.workinfoupdate.opportunity_id=e.opportunity_id,this.workinfoupdate.opportunity_info_id=e.opportunity_info_id},validateForm(){this.$refs.purchaseOrderForm.validate().then(e=>{e.valid==!0?this.saveworkinfo():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},saveworkinfo(){const e={opportunity_id:this.Leadid,summary:this.workinfo.summary,working_notes:this.workinfo.working_notes,user_id:this.userId,schedule_next_visit:this.workinfo.schedule_next_visit};console.log("check the data",e),this.AddOppertunityinfo(e).then(t=>{t.data.status==1?(this.snackbar=!0,this.snackbarText=t.data.message,this.color="primary",this.workinfo={},this.updateLeadsdata()):(this.snackbar=!0,this.snackbarText=t.data.message,this.color="on-background",this.workinfo={})})},updateLeadsdata(){this.getOppertunitydetails(this.Leadid).then(e=>{console.log("check response",e),this.workInfo=e.data.data.opportunity_work_info,this.userId=e.data.data.user_id,this.statusss=e.data.data.status,console.log("set",this.statusss),this.workInfo.reverse()})},getFormattedDate(e){const t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),p=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${p}`}}},le={style:{"max-width":"400px"}},ie={key:0},de=n("td",{colspan:"16",class:"text-center"},[n("h1",null,"No data found !")],-1),re=[de],ne={class:"text-center"},ue={class:"text-center"},ce={class:"text-center"},me={class:"text-center"},he={class:"text-center"};function pe(e,t,i,p,s,u){return r(),m("div",null,[a(y,null,{default:l(()=>[a(d,{cols:"12"},{default:l(()=>[a(x,{title:"Work Info",class:"mb-4"},{default:l(()=>[a(S,null,{default:l(()=>[a(T,{class:"mt-6",ref:"purchaseOrderForm"},{default:l(()=>[a(y,null,{default:l(()=>[a(d,{md:"4",cols:"12"},{default:l(()=>[a(c,{modelValue:this.workinfo.summary,"onUpdate:modelValue":t[0]||(t[0]=o=>this.workinfo.summary=o),label:"Summary",rules:s.summaryRules},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",md:"4"},{default:l(()=>[a(c,{modelValue:this.workinfo.schedule_next_visit,"onUpdate:modelValue":t[1]||(t[1]=o=>this.workinfo.schedule_next_visit=o),type:"date",min:s.today,label:"Schedule Next Visit"},null,8,["modelValue","min"])]),_:1}),a(d,{cols:"12"},{default:l(()=>[a(q,{modelValue:this.workinfo.working_notes,"onUpdate:modelValue":t[2]||(t[2]=o=>this.workinfo.working_notes=o),label:"Working Notes",rules:s.workingRules,"row-height":"30",rows:"4",variant:"filled","auto-grow":"",shaped:""},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[u.shouldShowButton?(r(),O(b,{key:0,onClick:u.validateForm},{default:l(()=>[g("Save")]),_:1},8,["onClick"])):_("",!0)]),_:1}),a(d,{cols:"12"},{default:l(()=>[n("div",le,[a(c,{class:"mb-3",modelValue:s.searchQuery,"onUpdate:modelValue":t[3]||(t[3]=o=>s.searchQuery=o),density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])]),a(A,{headers:s.headers,items:u.paginatedItems,"item-key":"brand_name",class:"table-rounded",height:"500","fixed-header":""},{default:l(()=>[n("thead",null,[n("tr",null,[(r(!0),m(k,null,w(s.headers,o=>(r(),m("th",{class:"text-center",key:o},h(o.text),1))),128))])]),n("tbody",null,[u.filteredSalesHistory.length===0?(r(),m("tr",ie,re)):_("",!0),(r(!0),m(k,null,w(u.paginatedItems,(o,v)=>(r(),m("tr",{key:v},[n("td",ne,h(o.created_date),1),n("td",ue,h(o.updated_date),1),n("td",ce,h(o.summary),1),n("td",me,h(o.working_notes),1),n("td",he,h(o.schedule_next_visit),1)]))),128))])]),_:1},8,["headers","items"]),a(z,{modelValue:s.page,"onUpdate:modelValue":t[4]||(t[4]=o=>s.page=o),length:Math.ceil(u.filteredSalesHistory.length/s.pageSize),onInput:u.updatePagination},null,8,["modelValue","length","onInput"])]),_:1}),a(j,{modelValue:s.dialog9,"onUpdate:modelValue":t[9]||(t[9]=o=>s.dialog9=o),"max-width":"1000"},{default:l(()=>[a(x,{title:"User Store",class:"mb-2"},{default:l(()=>[a(S,null,{default:l(()=>[a(y,null,{default:l(()=>[a(d,{cols:"12"},{default:l(()=>[a(T,{class:"mt-6",ref:"purchaseOrderForm8"},{default:l(()=>[a(y,null,{default:l(()=>[a(d,{md:"4",cols:"12"},{default:l(()=>[a(c,{modelValue:this.workinfoupdate.summary,"onUpdate:modelValue":t[5]||(t[5]=o=>this.workinfoupdate.summary=o),label:"Summary",rules:s.summaryRules},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",md:"4"},{default:l(()=>[a(c,{modelValue:this.workinfoupdate.schedule_next_visit,"onUpdate:modelValue":t[6]||(t[6]=o=>this.workinfoupdate.schedule_next_visit=o),type:"date",min:s.today,label:"Schedule Next Visit"},null,8,["modelValue","min"])]),_:1}),a(d,{cols:"12"},{default:l(()=>[a(q,{modelValue:this.workinfoupdate.working_notes,"onUpdate:modelValue":t[7]||(t[7]=o=>this.workinfoupdate.working_notes=o),label:"Working Notes",rules:s.workingRules,"row-height":"30",rows:"4",variant:"filled","auto-grow":"",shaped:""},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:l(()=>[a(b,{onClick:u.validateForm2},{default:l(()=>[g("Save")]),_:1},8,["onClick"]),a(b,{onClick:t[8]||(t[8]=o=>u.closeinfo())},{default:l(()=>[g("Close")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1}),a(D,{modelValue:s.snackbar,"onUpdate:modelValue":t[10]||(t[10]=o=>s.snackbar=o),timeout:3500,color:s.color},{default:l(()=>[g(h(s.snackbarText),1)]),_:1},8,["modelValue","color"])])}const _e=C(oe,[["render",pe]]),fe={mixins:[I],data(){return{attachments:[],OppertunityID:null,loading:!0,searchQuery:"",page:1,pageSize:10,headers:[{text:"No. ",value:"quatation_number"},{text:"Quotation ",value:"quatation_number"},{text:"PDF ",value:"quotation_file"}]}},computed:{filteredSalesHistory(){const e=this.searchQuery.toLowerCase().trim();return this.attachments.filter(t=>t.quatation_number&&t.quatation_number.toLowerCase().includes(e))},paginatedItems(){const e=(this.page-1)*this.pageSize,t=e+this.pageSize;return this.filteredSalesHistory.slice(e,t)}},mounted(){this.OppertunityID=this.$route.query.opportunity_id,this.getAttachmentreport().then(()=>{this.loading=!1}).catch(e=>{console.error("Error fetching merchants:",e)})},methods:{updatePagination(e){this.page=e},getPDFupdate(e){this.loading2=!0,window.open(e,"_blank"),this.loading2=!1},getAttachmentreport(){return new Promise((e,t)=>{this.attachmentsdata(this.OppertunityID).then(i=>{console.log("ste rues",i),this.attachments=i.data.data,this.attachments.reverse(),e()}).catch(i=>{console.error("Error fetching merchants:",i),t(i)})})}}},ge={key:0,id:"app"},ye=H('<div id="loading-bg"><div class="loading-logo"><img src="'+M+'" height="60" width="68" alt="Logo"></div><div class="loading"><div class="effect-1 effects"></div><div class="effect-2 effects"></div><div class="effect-3 effects"></div></div></div>',1),ve=[ye],be=n("p",{class:"mb-0"}," The system is not retrieving the Attachments. Please ensure that you have applied!",-1),ke={key:2,class:"loading-container"},we={key:3,style:{"max-width":"400px"}},Ve={class:"text-center"},Le={class:"text-center"},xe={class:"text-center"},Se={key:0},Oe=n("td",{colspan:"16",class:"text-center"},[n("h1",null,"No data found !")],-1),Ce=[Oe];function Te(e,t,i,p,s,u){return r(),m("div",null,[s.loading?(r(),m("div",ge,ve)):_("",!0),this.attachments.length===0?(r(),O(y,{key:1},{default:l(()=>[a(d,{cols:"12"},{default:l(()=>[a(x,{title:"Purchase Order View"},{default:l(()=>[a(S,null,{default:l(()=>[a(Z,{color:"warning",variant:"tonal",class:"mb-4",border:"top"},{default:l(()=>[a(J,{class:"mb-1"},{default:l(()=>[g(" Are you sure you Having Attachments? ")]),_:1}),be]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0),e.loading2?(r(),m("div",ke,[a(N,{height:"5",color:"primary",indeterminate:"",class:"custom-loader","full-width":""})])):_("",!0),this.attachments.length!==0?(r(),m("div",we,[a(c,{class:"mb-3",modelValue:s.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=o=>s.searchQuery=o),density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])])):_("",!0),this.attachments.length!==0?(r(),O(A,{key:4,headers:s.headers,"item-key":"dessert",class:"table-rounded",height:"500","fixed-header":""},{default:l(()=>[n("thead",null,[n("tr",null,[(r(!0),m(k,null,w(s.headers,o=>(r(),m("th",{class:"text-center",key:o},h(o.text),1))),128))])]),n("tbody",null,[(r(!0),m(k,null,w(u.paginatedItems,(o,v)=>(r(),m("tr",{key:v},[n("td",Ve,h((s.page-1)*s.pageSize+v+1),1),n("td",Le,h(o.quatation_number),1),n("td",xe,[a(b,{icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:U=>u.getPDFupdate(o.quotation_file)},{default:l(()=>[a(F,{color:"error",icon:"iwwa:file-pdf",size:"26"})]),_:2},1032,["onClick"])])]))),128)),u.filteredSalesHistory.length===0?(r(),m("tr",Se,Ce)):_("",!0)])]),_:1},8,["headers"])):_("",!0),a(z,{modelValue:s.page,"onUpdate:modelValue":t[1]||(t[1]=o=>s.page=o),length:Math.ceil(u.filteredSalesHistory.length/s.pageSize),onInput:u.updatePagination},null,8,["modelValue","length","onInput"])])}const Ie=C(fe,[["render",Te]]),Ue={components:{Oppertunitybasicdata:se,Oppertunityworkinfo:_e,GenerateQuote:Y,Attachment:Ie},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Opportunity Basic Data",icon:"mdi-account-outline",tab:"account"},{title:"Opportunity Work Info History",icon:"mdi-lock-open-outline",tab:"notification"},{title:"Quote generation",icon:"mdi-bell-outline",tab:"quote"},{title:"Attachment",icon:"teenyicons:attachment-outline",tab:"attach"}]}},mounted(){this.currentroute=E(),this.activeTab=W(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function Pe(e,t,i,p,s,u){const o=V("Oppertunitybasicdata"),v=V("Oppertunityworkinfo"),U=V("GenerateQuote"),Q=V("Attachment");return r(),m("div",null,[a(K,{modelValue:s.activeTab,"onUpdate:modelValue":t[0]||(t[0]=f=>s.activeTab=f),"show-arrows":""},{default:l(()=>[(r(!0),m(k,null,w(s.tabs,f=>(r(),O($,{key:f.icon,value:f.tab},{default:l(()=>[a(F,{size:"20",start:"",icon:f.icon},null,8,["icon"]),g(" "+h(f.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a(G),a(X,{modelValue:s.activeTab,"onUpdate:modelValue":t[1]||(t[1]=f=>s.activeTab=f),class:"mt-5 disable-tab-transition",touch:!1},{default:l(()=>[a(L,{value:"account"},{default:l(()=>[a(o)]),_:1}),a(L,{value:"notification"},{default:l(()=>[a(v)]),_:1}),a(L,{value:"quote"},{default:l(()=>[a(U)]),_:1}),a(L,{value:"attach"},{default:l(()=>[a(Q)]),_:1})]),_:1},8,["modelValue"])])}const Ze=C(Ue,[["render",Pe]]);export{Ze as default};
