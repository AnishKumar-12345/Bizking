import{_ as p,o as r,c as u,g as a,w as e,i as c,j as h,k as v,l as d,m as _,b as m,v as k,e as T,F as V,q as g,s as x,r as I,f as w,u as F,t as B}from"./index.35f87e96.js";import{s as C}from"./Services.e0720533.js";import{V as U}from"./VForm.e7a655c5.js";import{V as y}from"./VFileInput.4ce24004.js";import{V as D,a as $,b as S,c as E}from"./VWindowItem.f13e0119.js";import"./VCounter.5233bcc0.js";import"./VChip.823273b5.js";const N={mixins:[C],data(){return{Importcsv:null}},methods:{handleFileChange(o){o.target.files.length>0?(this.Importcsv=o.target.files[0],console.log("File Selected:",this.Importcsv)):this.Importcsv=null},validateForm(){this.$refs.tripform.validate().then(o=>{o.valid==!0?this.uploadTripdata():(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="on-background")})},uploadTripdata(){const o=new FormData;this.Importcsv&&o.append("import_csv",this.Importcsv);for(const t of o.entries())console.log("Trip Data",`${t[0]}: ${t[1]}`);this.Uploadtrip(o).then(t=>{t.data.status==1?(this.snackbar=!0,this.snackbarText=t.data.message,this.color="primary",window.location.reload(!0)):t.data.status==0?(this.snackbar=!0,this.snackbarText=t.data.message,this.color="on-background"):(this.snackbar=!0,this.color="on-background",this.snackbarText="File Is Mandatory")}).catch(t=>{console.error("Error uploading file:",t)})}}};function R(o,t,f,b,s,i){return r(),u("div",null,[a(d,null,{default:e(()=>[a(c,{cols:"12"},{default:e(()=>[a(h,{title:"Trip Bulk Upload",class:"mb-4"},{default:e(()=>[a(v,null,{default:e(()=>[a(U,{class:"mt-6",ref:"tripform"},{default:e(()=>[a(d,null,{default:e(()=>[a(c,{md:"6",cols:"12"},{default:e(()=>[a(y,{file:s.Importcsv,"onUpdate:file":t[0]||(t[0]=n=>s.Importcsv=n),label:"File Browse",accept:".csv, .xls, .xlsx",onInput:i.handleFileChange,multiple:""},null,8,["file","onInput"])]),_:1}),a(c,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:e(()=>[a(_,{onClick:i.validateForm},{default:e(()=>[m("Submit")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})])}const W=p(N,[["render",R]]),j={components:{TripBlockupload:W},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Trip Bulk Upload",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=k(),this.activeTab=T(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function q(o,t,f,b,s,i){const n=I("TripBlockupload");return r(),u("div",null,[a(D,{modelValue:s.activeTab,"onUpdate:modelValue":t[0]||(t[0]=l=>s.activeTab=l),"show-arrows":""},{default:e(()=>[(r(!0),u(V,null,g(s.tabs,l=>(r(),w(E,{key:l.icon,value:l.tab},{default:e(()=>[a(F,{size:"20",start:"",icon:l.icon},null,8,["icon"]),m(" "+B(l.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),a(x),a(S,{modelValue:s.activeTab,"onUpdate:modelValue":t[1]||(t[1]=l=>s.activeTab=l),class:"mt-5 disable-tab-transition",touch:!1},{default:e(()=>[a($,{value:"account"},{default:e(()=>[a(n)]),_:1})]),_:1},8,["modelValue"])])}const J=p(j,[["render",q]]);export{J as default};
