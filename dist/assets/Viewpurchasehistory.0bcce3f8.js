import{_,o as c,c as n,g as o,w as u,a,F as d,s as h,t as r,b as m,x as f,e as v,u as x,r as y,f as g,v as w}from"./index.54857599.js";import{s as T}from"./Services.e63b2123.js";import{V as k}from"./VChip.ef64106c.js";import{V as I}from"./VTable.8b61df50.js";import{V as H,a as S,b as B,c as P}from"./VWindowItem.cfd7410a.js";import"./index.2bd8ddc8.js";const N={mixins:[T],data(){return{purchaseHistory:[],userIds:"",createdBy:"",headers:[{text:"PO Number",value:"po_number"},{text:"Order Date",value:"created_date"},{text:"Status",value:"po_status"},{text:"Order To",value:"brand_name"},{text:"Shipped To",value:"brand_name"},{text:"Action",value:"actions"}]}},mounted(){this.createdBy=localStorage.getItem("createdby"),this.userIds=localStorage.getItem("userId"),this.getPurchasehistorydetails()},methods:{getPurchasehistorydetails(){this.getPurchaseorder(this.userIds,this.userRoles).then(i=>{console.log("check the view purchase order",i.data),this.purchaseHistory=i.data,console.log("check the view purchase History",this.purchaseHistory)})},resolveStatusVariant(i){return i=="Acknowledged"?{color:"warning"}:{color:"info"}}}},C={class:"text-center"},D={class:"text-center"},O={class:"text-center"},z={class:"text-center"},A={class:"text-center"},F={class:"text-center"};function R(i,l,b,V,t,p){return c(),n("div",null,[o(I,{headers:t.headers,items:t.purchaseHistory,"item-key":"dessert",class:"table-rounded",height:"400","fixed-header":""},{default:u(()=>[a("thead",null,[a("tr",null,[(c(!0),n(d,null,h(t.headers,e=>(c(),n("th",{class:"text-center",key:e},r(e.text),1))),128))])]),a("tbody",null,[(c(!0),n(d,null,h(t.purchaseHistory,(e,s)=>(c(),n("tr",{key:s},[a("td",C,r(e.po_number),1),a("td",D,r(e.created_date),1),a("td",O,[o(k,{color:p.resolveStatusVariant(e.po_status).color,class:"font-weight-medium",size:"small"},{default:u(()=>[m(r(e.po_status),1)]),_:2},1032,["color"])]),a("td",z,r(e.brand_name),1),a("td",A,r(e.protein),1),a("td",F,r(e.actions),1)]))),128))])]),_:1},8,["headers","items"])])}const U=_(N,[["render",R]]),W={components:{Viewpurchasehistories:U},data(){return{currentroute:"",activeTab:"",tabs:[{title:"View Purchase History",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=f(),this.activeTab=v(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function E(i,l,b,V,t,p){const e=y("Viewpurchasehistories");return c(),n("div",null,[o(H,{modelValue:t.activeTab,"onUpdate:modelValue":l[0]||(l[0]=s=>t.activeTab=s),"show-arrows":""},{default:u(()=>[(c(!0),n(d,null,h(t.tabs,s=>(c(),g(P,{key:s.icon,value:s.tab},{default:u(()=>[o(w,{size:"20",start:"",icon:s.icon},null,8,["icon"]),m(" "+r(s.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(x),o(B,{modelValue:t.activeTab,"onUpdate:modelValue":l[1]||(l[1]=s=>t.activeTab=s),class:"mt-5 disable-tab-transition",touch:!1},{default:u(()=>[o(S,{value:"account"},{default:u(()=>[o(e)]),_:1})]),_:1},8,["modelValue"])])}const M=_(W,[["render",E]]);export{M as default};
