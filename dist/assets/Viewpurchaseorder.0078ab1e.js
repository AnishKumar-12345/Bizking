import{_ as q,o as _,c as m,g as o,ba as C,b0 as x,f as y,w as n,i as g,j as k,k as w,b as p,l as A,a as t,F as v,s as V,t as r,n as f,v as D,m as T,u as B,b1 as U,b2 as I,x as M,e as R,r as O}from"./index.f3c5980a.js";import{s as z}from"./Services.8ccc7918.js";import{V as Q,a as L}from"./VAlert.ab366ec9.js";import{V as b}from"./VChip.e64011a9.js";import{V as P}from"./VTable.33dcea60.js";import{V as G}from"./VForm.52f7a6b8.js";import{V as F}from"./VSelect.1134fd80.js";import{V as N}from"./VDialog.c2929c22.js";import{V as j}from"./VSnackbar.2f3329b3.js";import{V as H,a as K,b as W,c as Y}from"./VWindowItem.73a53de7.js";import"./index.2bd8ddc8.js";import"./VCheckboxBtn.8feb0e6c.js";const E={mixins:[z],data(){return{loading:!0,loading2:!1,Viewtotals:{total_po_amount:"",total_taxableammout:"",total_cgst:"",total_sgst:""},Statusrules:[e=>!!e||"Status Is Required"],quantityrules:[e=>!!e||"Quantity Is Required"],snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,dialog2:!1,viewProduct:[],combinedProducts:[],totals:{Quantity:0,TaxableAmmount:0,CGST:0,SGST:0,Ammount:0},AllBrandproducts:[],selectedBrandId:"",Brandname:[],editProduct:[],VproductData:{brand_id:"",user_id:"",created_date:"",po_status:"",total_cgst:"",total_sgst:"",you_saved:"",po_id:"",po_number:"",sub_total:"",total_so_amount:"",total_quantity:"",products:[{brand_product_id:"",sku_name:"",hsn_code:"",mrp:"",quantity:"",uom:"",price_per_unit:"",taxable_amount:"",cgst:"",sgst:"",amount:"",total_give_margin:""}]},productData:{brand_id:"",user_id:"",created_date:"",po_status:"",total_cgst:"",total_sgst:"",you_saved:"",po_id:"",po_number:"","sub_total(taxable_amount_total)":"",total_so_amount:"",total_quantity:"",products:[{brand_product_id:"",sku_name:"",hsn_code:"",mrp:"",quantity:"",uom:"",price_per_unit:"",taxable_amount:"",cgst:"",sgst:"",amount:"",total_give_margin:""}]},dialog:!1,purchaseorders:[],userIds:"",userRoles:"",createdBy:"",headers:[{text:"Purchase Order",value:"po_number"},{text:"Order Date",value:"created_date"},{text:"Status",value:"po_status"},{text:"Order To",value:"brand_name"},{text:"Shipped To",value:"brand_name"},{text:"Total",value:"total_po_amount"},{text:"Action",value:"actions",sortable:!1}],headers2:[{text:"Product Name",value:"sku_name"},{text:"HSN",value:"hsn_code"},{text:"MRP",value:"mrp"},{text:"Quantity",value:"quantity"},{text:"UOM",value:"uom"},{text:"Price/Unit",value:"price_per_unit"},{text:"TaxableAmount",value:"taxable_amount"},{text:"CGST",value:"csgt"},{text:"SGST",value:"sgst"},{text:"Amount",value:"amount"}],headers3:[{text:"Product Name",value:"sku_name"},{text:"HSN",value:"hsn_code"},{text:"MRP",value:"mrp"},{text:"Quantity",value:"quantity"},{text:"UOM",value:"uom"},{text:"Price/Unit",value:"price_per_unit"},{text:"TaxableAmount",value:"taxable_amount"},{text:"CGST",value:"csgt"},{text:"SGST",value:"sgst"},{text:"Amount",value:"amount"}]}},computed:{totalIndividualAmount(){return this.AllBrandproducts.reduce((e,s)=>{const d=parseFloat(s.mrp),i=parseFloat(s.quantity);if(!isNaN(d)&&!isNaN(i)){const c=d*i;return e+c}return e},0)},savedamount(){const e=parseFloat(this.allAmmount),s=this.totalIndividualAmount-(isNaN(e)?0:e);return Math.max(0,s).toFixed(2)},allAmmount(){const e=this.calculateTotalamount.reduce((s,d)=>s+parseFloat(d),0);return parseFloat(e.toFixed(2))},allSGSTAmount(){const e=this.calculatedSGSTAmount.reduce((s,d)=>s+parseFloat(d),0);return parseFloat(e.toFixed(2))},allCGSTAmount(){const e=this.calculatedCGSTAmount.reduce((s,d)=>s+parseFloat(d),0);return parseFloat(e.toFixed(2))},allTaxableAmmount(){const e=this.calculatedTaxableAmount.reduce((s,d)=>s+parseFloat(d),0);return parseFloat(e.toFixed(2))},allQuantity(){const e=this.AllBrandproducts.reduce((s,d)=>{const i=parseFloat(d.quantity);return isNaN(i)?s:s+i},0);return isNaN(e)?0:e.toFixed(0)},calculateTotalamount(){return this.AllBrandproducts.map((e,s)=>{const d=parseFloat(this.calculatedTaxableAmount[s]),i=parseFloat(this.calculatedCGSTAmount[s]),c=parseFloat(this.calculatedSGSTAmount[s]),l=d+i+c;return isNaN(l)?0:l.toFixed(2)})},calculatedSGSTAmount(){return this.AllBrandproducts.map((e,s)=>{const d=parseFloat(this.calculatedTaxableAmount[s]),i=parseFloat(e.sgst.replace("%","")),c=d*i/100;return isNaN(c)?0:c.toFixed(2)})},calculatedCGSTAmount(){return this.AllBrandproducts.map((e,s)=>{const d=parseFloat(this.calculatedTaxableAmount[s]),i=parseFloat(e.cgst.replace("%","")),c=d*i/100;return isNaN(c)?0:c.toFixed(2)})},TaxfromCgst(){return this.AllBrandproducts.map(e=>{const s=parseFloat(e.mrp),d=parseFloat(e.cgst.replace("%","")),i=s-s/(1+d/100);return isNaN(i)?0:i.toFixed(2)})},TaxfromSgst(){return this.AllBrandproducts.map(e=>{const s=parseFloat(e.mrp),d=parseFloat(e.sgst.replace("%","")),i=s-s/(1+d/100);return isNaN(i)?0:i.toFixed(2)})},calculatedPricePerUnit(){return this.AllBrandproducts.map((e,s)=>{const d=parseFloat(this.TaxDeductMRP[s]),i=parseFloat(e.total_given_margin.replace("%","")),c=d-d*i/100;return isNaN(c)?0:c.toFixed(2)})},TaxDeductMRP(){return this.AllBrandproducts.map((e,s)=>{const d=parseFloat(e.mrp),i=parseFloat(this.TaxfromCgst[s]),c=parseFloat(this.TaxfromSgst[s]),l=d-(i+c);return isNaN(l)?0:l.toFixed(2)})},calculatedTaxableAmount(){return this.AllBrandproducts.map((e,s)=>{const d=parseFloat(e.quantity);console.log("check the quantity",d);const i=parseFloat(this.calculatedPricePerUnit[s]);if(console.log("check the Priceperunit",i),d===0)return 0;if(isNaN(d)||isNaN(i))return console.log(`Invalid quantity or price at index ${s}`),0;const c=d*i;return isNaN(c)?0:c.toFixed(2)})}},mounted(){this.createdBy=localStorage.getItem("createdby"),this.userIds=localStorage.getItem("userId"),this.userRoles=localStorage.getItem("userRole"),this.getPurchaseorderdetails(),this.getBrands(),setTimeout(()=>{this.loading=!1},4e3)},methods:{colorTGMmargin(e){return e?{color:"success"}:{color:"error"}},colorSGSTmargin(e){return e?{color:"success"}:{color:"error"}},colorCGSTmargin(e){return e?{color:"success"}:{color:"error"}},getPDFupdate(e){this.loading2=!0,this.getPurchasePDF(e).then(s=>{console.log(s);const d=s.data.po_file;this.loading2=!1,window.open(d,"_blank")})},DownloadPDF(e){if(console.log("check the id",e),e==null)this.snackbar=!0,this.snackbarText="PDF is not available",this.color="error";else{const s=e;window.open(s,"_blank")}},closedialog2(){this.dialog2=!1},validateForm(){this.$refs.purchaseOrderForm.validate().then(e=>{console.log("form valid",e.valid),e.valid==!0?this.allQuantity>=1?this.saveProducteditData():(this.snackbar=!0,this.snackbarText="Please give Quantities",this.color="error"):(this.snackbar=!0,this.snackbarText="Please give all mandatory fields",this.color="error")})},deleteRow(e){const s=this.AllBrandproducts.indexOf(e);s!==-1&&this.AllBrandproducts.splice(s,1)},saveProducteditData(){const e={Draft:1,Created:2,Shared:3,Acknowledged:4,Received:5},s=Math.max(this.AllBrandproducts.length,this.calculatedPricePerUnit.length,this.calculatedTaxableAmount.length,this.calculatedCGSTAmount.length,this.calculatedSGSTAmount.length,this.calculateTotalamount.length),d=[];for(let l=0;l<s;l++){const a=this.AllBrandproducts[l];!a||a.quantity<=0||d.push({brand_product_id:a.brand_product_id,sku_name:a.sku_name,hsn_code:a.hsn_code,mrp:a.mrp,quantity:`${a.quantity}`,uom:a.uom,price_per_unit:this.calculatedPricePerUnit[l]||"0",taxable_amount:this.calculatedTaxableAmount[l]||"0",csgt:this.calculatedCGSTAmount[l]||"0",sgst:this.calculatedSGSTAmount[l]||"0",amount:this.calculateTotalamount[l]||"0",sgst_percentage:a.sgst.includes("%")?`${a.sgst}`:`${a.sgst}%`,cgst_percentage:a.cgst.includes("%")?`${a.cgst}`:`${a.cgst}%`,total_give_margin:a.total_given_margin})}const i=this.editProduct.map(l=>l.brand_product_id),c={brand_id:this.selectedBrandId,user_id:this.userIds,created_date:this.productData.created_date,po_status:e[this.productData.po_status],total_cgst:`${this.allCGSTAmount}`,total_sgst:`${this.allSGSTAmount}`,you_saved:`${this.savedamount}`,sub_total:`${this.allTaxableAmmount}`,total_po_amount:`${this.allAmmount}`,total_quantity:`${this.allQuantity}`,po_id:this.productData.po_id,po_number:this.productData.po_number,products:d.concat(this.editProduct.filter(l=>!i.includes(l.brand_product_id)).map(l=>({brand_product_id:l.brand_product_id,sku_name:l.sku_name,hsn_code:l.hsn_code,mrp:l.mrp,quantity:l.quantity,uom:l.uom,price_per_unit:l.price_per_unit,taxable_amount:l.taxable_amount,csgt:l.cgst,sgst:l.sgst,amount:l.amount,total_give_margin:l.total_give_margin})))};console.log("check the post data",c),this.postupdatePurchaseorder(c).then(l=>{console.log("check the response",l),console.log("check the response",l.status),l.status==1?(this.snackbar=!0,this.color="success",this.formData={},this.snackbarText=l.message,this.getPurchaseorderdetails(),this.dialog=!1):(this.snackbar=!0,this.color="error")})},preventPaste(e){const d=(e.clipboardData||window.clipboardData).getData("text");/^[0-9]+$/.test(d)||e.preventDefault()},preventDecimal(e){(e.key==="."||e.key===","||e.key==="+"||e.key==="-"||e.keyCode===189||e.keyCode===109)&&e.preventDefault()},colorTGMmargin(e){return e?{color:"success"}:{color:"error"}},colorSGSTmargin(e){return e?{color:"success"}:{color:"error"}},colorCGSTmargin(e){return e?{color:"success"}:{color:"error"}},getBrandsdata(){this.getBrands().then(e=>{this.Brandname=e.data})},viewrow(e){console.log("check the dialog",e),this.dialog2=!0,this.VproductData.brand_name=e.brand_name,this.VproductData.created_date=e.created_date,this.VproductData.po_status=e.po_status,this.VproductData.po_number=e.po_number,this.VproductData.po_id=e.po_id,this.VproductData.total_po_amount=e.total_po_amount,this.VproductData.total_cgst=e.total_cgst,this.VproductData.total_sgst=e.total_sgst,this.VproductData.you_saved=e.you_saved,this.VproductData.total_quantity=e.total_quantity,this.VproductData.sub_total=e.sub_total,this.viewProduct=e.products},editrow(e){console.log("check the dialog",e),this.dialog=!0,this.productData.brand_name=e.brand_name,this.productData.created_date=e.created_date,this.productData.po_status=e.po_status,this.productData.po_number=e.po_number,this.productData.po_id=e.po_id,this.editProduct=e.products,this.productData.brand_name===e.brand_name&&(this.selectedBrandId=e.brand_id,this.getBrandproducts(this.selectedBrandId).then(s=>{this.AllBrandproducts=s.data,console.log("Branddetails",this.AllBrandproducts),console.log("text",this.AllBrandproducts),this.AllBrandproducts=this.AllBrandproducts.map(d=>{const i=this.editProduct.find(c=>c.brand_product_id==d.brand_product_id);return{...d,quantity:i?i.quantity:0}}),console.log("Filtered editProduct",this.AllBrandproducts)}))},closeDialog(){this.dialog=!1},getPurchaseorderdetails(){this.getPurchaseorder(this.userIds,this.userRoles).then(e=>{console.log("check the view purchase order",e),this.purchaseorders=e.data})},colorPOstatus(e){return e=="Created"?{color:"primary"}:e=="Draft"?{color:"success"}:e=="Acknowledged"?{color:"warning"}:e=="Received"?{color:"success"}:{color:"info"}}}},u=e=>(U("data-v-956149b5"),e=e(),I(),e),J={key:0,class:"loading-container"},X={key:1,class:"loading-container"},Z=u(()=>t("p",{class:"mb-0"}," The system is not retrieving the Purchase Orders. Please ensure that you have applied for Purchase Orders !",-1)),$={class:"text-center"},tt={class:"text-center"},et={class:"text-center"},at={class:"text-center"},st={class:"text-center"},lt={class:"text-center"},ot={class:"text-center",style:{display:"flex","justify-content":"center","align-items":"center"}},rt={class:"text-center"},nt={class:"text-center"},ct={class:"text-center"},dt={class:"text-center"},ut={class:"text-center"},it={class:"text-center"},_t=u(()=>t("br",null,null,-1)),ht={class:"text-center"},pt={class:"text-center"},mt=u(()=>t("br",null,null,-1)),gt={class:"text-center"},xt=u(()=>t("br",null,null,-1)),ft={class:"text-center"},bt=u(()=>t("td",{class:"text-center"},"Total",-1)),vt=u(()=>t("td",null,null,-1)),Vt=u(()=>t("td",null,null,-1)),Tt={class:"text-center"},yt=u(()=>t("td",null,null,-1)),St=u(()=>t("td",null,null,-1)),At={class:"text-center"},Dt={class:"text-center"},kt={class:"text-center"},wt={class:"text-center"},Pt=u(()=>t("td",null,null,-1)),Ft=u(()=>t("tr",null,[t("td",{class:"text-left",style:{"font-weight":"Bold"}}," Tax Details: "),t("td",{colspan:"4",class:"text-right"}),t("td",{colspan:"4",class:"text-left",style:{"font-weight":"Bold"}}," Amounts: "),t("td",{colspan:"4",class:"text-center"})],-1)),Bt=u(()=>t("td",{class:"text-left"},"CGST",-1)),Ct={colspan:"4",class:"text-right"},Gt=u(()=>t("td",{colspan:"4",class:"text-left"}," SubTotal ",-1)),Nt={colspan:"4",class:"text-center"},qt=u(()=>t("td",{class:"text-left"},"SGST",-1)),Ut={colspan:"4",class:"text-right"},It=u(()=>t("td",{colspan:"4",class:"text-left"}," Total ",-1)),Mt={colspan:"4",class:"text-center"},Rt=u(()=>t("td",{class:"text-left"},null,-1)),Ot=u(()=>t("td",{colspan:"4",class:"text-right"},null,-1)),zt=u(()=>t("td",{colspan:"4",class:"text-left"}," Advance ",-1)),Qt={colspan:"4",class:"text-center"},Lt=u(()=>t("td",{class:"text-left"},null,-1)),jt=u(()=>t("td",{colspan:"4",class:"text-right"},null,-1)),Ht=u(()=>t("td",{colspan:"4",class:"text-left"}," Balance ",-1)),Kt={colspan:"4",class:"text-center"},Wt=u(()=>t("td",{class:"text-left"},null,-1)),Yt=u(()=>t("td",{colspan:"4",class:"text-right"},null,-1)),Et=u(()=>t("td",{colspan:"4",class:"text-left"}," You Saved ",-1)),Jt={colspan:"4",class:"text-center"},Xt={class:"text-center"},Zt={class:"text-center"},$t={class:"text-center"},te={class:"text-center"},ee={class:"text-center"},ae={class:"text-center"},se={class:"text-center"},le={class:"text-center"},oe={class:"text-center"},re={class:"text-center"},ne=u(()=>t("td",{class:"text-center"},"Total",-1)),ce=u(()=>t("td",null,null,-1)),de=u(()=>t("td",null,null,-1)),ue={class:"text-center"},ie=u(()=>t("td",null,null,-1)),_e=u(()=>t("td",null,null,-1)),he={class:"text-center"},pe={class:"text-center"},me={class:"text-center"},ge={class:"text-center"},xe=u(()=>t("td",null,null,-1)),fe=u(()=>t("tr",null,[t("td",{class:"text-left",style:{"font-weight":"Bold"}}," Tax Details: "),t("td",{colspan:"4",class:"text-right"}),t("td",{colspan:"4",class:"text-left",style:{"font-weight":"Bold"}}," Amounts: "),t("td",{colspan:"4",class:"text-center"})],-1)),be=u(()=>t("td",{class:"text-left"},"CGST",-1)),ve={colspan:"4",class:"text-right"},Ve=u(()=>t("td",{colspan:"4",class:"text-left"}," SubTotal ",-1)),Te={colspan:"4",class:"text-center"},ye=u(()=>t("td",{class:"text-left"},"SGST",-1)),Se={colspan:"4",class:"text-right"},Ae=u(()=>t("td",{colspan:"4",class:"text-left"}," Total ",-1)),De={colspan:"4",class:"text-center"},ke=u(()=>t("td",{class:"text-left"},null,-1)),we=u(()=>t("td",{colspan:"4",class:"text-right"},null,-1)),Pe=u(()=>t("td",{colspan:"4",class:"text-left"}," Advance ",-1)),Fe={colspan:"4",class:"text-center"},Be=u(()=>t("td",{class:"text-left"},null,-1)),Ce=u(()=>t("td",{colspan:"4",class:"text-right"},null,-1)),Ge=u(()=>t("td",{colspan:"4",class:"text-left"}," Balance ",-1)),Ne={colspan:"4",class:"text-center"},qe=u(()=>t("td",{class:"text-left"},null,-1)),Ue=u(()=>t("td",{colspan:"4",class:"text-right"},null,-1)),Ie=u(()=>t("td",{colspan:"4",class:"text-left"}," You Saved ",-1)),Me={colspan:"4",class:"text-center"};function Re(e,s,d,i,c,l){return _(),m("div",null,[c.loading?(_(),m("div",J,[o(C,{height:"5",color:"primary",indeterminate:"",class:"custom-loader","full-width":""})])):x("",!0),c.loading2?(_(),m("div",X,[o(C,{height:"5",color:"error",indeterminate:"",class:"custom-loader","full-width":""})])):x("",!0),this.purchaseorders==null?(_(),y(A,{key:2},{default:n(()=>[o(g,{cols:"12"},{default:n(()=>[o(k,{title:"Purchase Order View"},{default:n(()=>[o(w,null,{default:n(()=>[o(Q,{color:"warning",variant:"tonal",class:"mb-4",border:"top"},{default:n(()=>[o(L,{class:"mb-1"},{default:n(()=>[p(" Are you sure you gave Purchase Orders? ")]),_:1}),Z]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):x("",!0),this.purchaseorders!=null?(_(),y(P,{key:3,headers:c.headers,items:this.purchaseorders,"item-key":"dessert",class:"table-rounded",height:"550","fixed-header":""},{default:n(()=>[t("thead",null,[t("tr",null,[(_(!0),m(v,null,V(c.headers,a=>(_(),m("th",{class:"text-center",key:a},r(a.text),1))),128))])]),t("tbody",null,[(_(!0),m(v,null,V(this.purchaseorders,(a,h)=>(_(),m("tr",{key:h},[t("td",$,r(a.po_number),1),t("td",tt,r(a.created_date),1),t("td",et,[o(b,{color:l.colorPOstatus(a.po_status).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(r(a.po_status),1)]),_:2},1032,["color"])]),t("td",at,r(a.brand_name),1),t("td",st,r(a.brand_name),1),t("td",lt,"\u20B9"+r(a.total_po_amount),1),t("td",ot,[a.po_status!="Acknowledged"&&a.po_status!="Shared"&&a.po_status!="Received"?(_(),y(f,{key:0,icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:S=>l.editrow(a)},{default:n(()=>[o(D,{color:"warning",icon:"ri-pencil-line",size:"22"})]),_:2},1032,["onClick"])):x("",!0),a.po_status=="Acknowledged"||a.po_status=="Shared"||a.po_status=="Received"?(_(),y(f,{key:1,icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:S=>l.viewrow(a)},{default:n(()=>[o(D,{color:"success",icon:"basil:eye-outline",size:"22"})]),_:2},1032,["onClick"])):x("",!0),a.po_status=="Acknowledged"||a.po_status=="Shared"||a.po_status=="Received"?(_(),y(f,{key:2,icon:"",variant:"text",color:"default",class:"me-2",size:"x-small",onClick:S=>l.getPDFupdate(a.po_id)},{default:n(()=>[o(D,{color:"error",icon:"iwwa:file-pdf",size:"26"})]),_:2},1032,["onClick"])):x("",!0)])]))),128))])]),_:1},8,["headers","items"])):x("",!0),o(N,{modelValue:c.dialog,"onUpdate:modelValue":s[5]||(s[5]=a=>c.dialog=a),"max-width":"1000"},{default:n(()=>[o(k,{title:"Purchase Order",class:"mb-2"},{default:n(()=>[o(w,null,{default:n(()=>[o(A,null,{default:n(()=>[o(g,{cols:"12"},{default:n(()=>[o(G,{class:"mt-6",ref:"purchaseOrderForm"},{default:n(()=>[o(A,null,{default:n(()=>[o(g,{md:"6",cols:"12"},{default:n(()=>[o(T,{modelValue:this.productData.brand_name,"onUpdate:modelValue":s[0]||(s[0]=a=>this.productData.brand_name=a),label:"Brand or Manufacturer",readonly:""},null,8,["modelValue"])]),_:1}),o(g,{cols:"12",md:"6"},{default:n(()=>[o(T,{modelValue:this.createdBy,"onUpdate:modelValue":s[1]||(s[1]=a=>this.createdBy=a),label:"Created By",readonly:""},null,8,["modelValue"])]),_:1}),o(g,{cols:"12",md:"6"},{default:n(()=>[o(T,{modelValue:this.productData.created_date,"onUpdate:modelValue":s[2]||(s[2]=a=>this.productData.created_date=a),type:"date",label:"Date",readonly:""},null,8,["modelValue"])]),_:1}),o(g,{md:"6",cols:"12"},{default:n(()=>[o(F,{modelValue:this.productData.po_status,"onUpdate:modelValue":s[3]||(s[3]=a=>this.productData.po_status=a),label:"PO Status",items:["Draft","Created","Shared","Acknowledged"],rules:c.Statusrules},null,8,["modelValue","rules"])]),_:1}),o(B),o(g,{cols:"12"},{default:n(()=>[o(P,{headers:c.headers2,items:c.AllBrandproducts},{default:n(()=>[t("thead",null,[t("tr",null,[(_(!0),m(v,null,V(c.headers2,a=>(_(),m("th",{class:"text-center",key:a},r(a.text),1))),128))])]),t("tbody",null,[(_(!0),m(v,null,V(this.AllBrandproducts,(a,h)=>(_(),m("tr",{key:h},[t("td",rt,r(a.sku_name),1),t("td",nt,r(a.hsn_code),1),t("td",ct,"\u20B9"+r(a.mrp),1),t("td",dt,[o(T,{onKeydown:l.preventDecimal,onPaste:l.preventPaste,type:"number",min:"0",max:"20000",modelValue:a.quantity,"onUpdate:modelValue":S=>a.quantity=S,style:{"min-width":"80px"}},null,8,["onKeydown","onPaste","modelValue","onUpdate:modelValue"])]),t("td",ut,r(a.uom),1),t("td",it,[p(" \u20B9 "+r(l.calculatedPricePerUnit[h])+" ",1),_t,o(b,{color:l.colorTGMmargin(a.total_given_margin).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(" ("+r(a.total_given_margin)+") ",1)]),_:2},1032,["color"])]),t("td",ht,"\u20B9"+r(l.calculatedTaxableAmount[h]),1),t("td",pt,[p(" \u20B9"+r(l.calculatedCGSTAmount[h])+" ",1),mt,o(b,{color:l.colorCGSTmargin(a.cgst).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(" ("+r(a.cgst)+") ",1)]),_:2},1032,["color"])]),t("td",gt,[p(" \u20B9"+r(l.calculatedSGSTAmount[h])+" ",1),xt,o(b,{color:l.colorSGSTmargin(a.sgst).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(" ("+r(a.sgst)+") ",1)]),_:2},1032,["color"])]),t("td",ft,"\u20B9"+r(l.calculateTotalamount[h]),1),t("td",null,[o(f,{icon:"",variant:"text",color:"error",class:"me-2",size:"small",onClick:S=>l.deleteRow(a)},{default:n(()=>[o(D,{icon:"mdi-minus-circle-outline",size:"24"})]),_:2},1032,["onClick"])])]))),128))]),t("tfoot",null,[t("tr",null,[bt,vt,Vt,t("td",Tt,r(l.allQuantity),1),yt,St,t("td",At,"\u20B9"+r(l.allTaxableAmmount),1),t("td",Dt,"\u20B9"+r(l.allCGSTAmount),1),t("td",kt,"\u20B9"+r(l.allSGSTAmount),1),t("td",wt,"\u20B9"+r(l.allAmmount),1),Pt]),Ft,t("tr",null,[Bt,t("td",Ct," \u20B9"+r(l.allCGSTAmount),1),Gt,t("td",Nt," \u20B9"+r(l.allAmmount),1)]),t("tr",null,[qt,t("td",Ut," \u20B9"+r(l.allSGSTAmount),1),It,t("td",Mt," \u20B9"+r(l.allAmmount),1)]),t("tr",null,[Rt,Ot,zt,t("td",Qt," \u20B9"+r(c.totals.Quantity),1)]),t("tr",null,[Lt,jt,Ht,t("td",Kt," \u20B9"+r(l.allAmmount),1)]),t("tr",null,[Wt,Yt,Et,t("td",Jt," \u20B9"+r(l.savedamount),1)])])]),_:1},8,["headers","items"])]),_:1}),o(g,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:n(()=>[o(f,{onClick:l.validateForm},{default:n(()=>[p("Save")]),_:1},8,["onClick"]),o(f,{color:"secondary",variant:"tonal",onClick:s[4]||(s[4]=a=>l.closeDialog())},{default:n(()=>[p(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(N,{modelValue:c.dialog2,"onUpdate:modelValue":s[11]||(s[11]=a=>c.dialog2=a),"max-width":"1000"},{default:n(()=>[o(k,{title:"Purchase Order",class:"mb-2"},{default:n(()=>[o(w,null,{default:n(()=>[o(A,null,{default:n(()=>[o(g,{cols:"12"},{default:n(()=>[o(G,{class:"mt-6"},{default:n(()=>[o(A,null,{default:n(()=>[o(g,{md:"6",cols:"12"},{default:n(()=>[o(F,{modelValue:this.VproductData.brand_name,"onUpdate:modelValue":s[6]||(s[6]=a=>this.VproductData.brand_name=a),label:"Brand or Manufacturer",readonly:""},null,8,["modelValue"])]),_:1}),o(g,{cols:"12",md:"6"},{default:n(()=>[o(T,{modelValue:this.createdBy,"onUpdate:modelValue":s[7]||(s[7]=a=>this.createdBy=a),label:"Created By",readonly:""},null,8,["modelValue"])]),_:1}),o(g,{cols:"12",md:"6"},{default:n(()=>[o(T,{modelValue:this.VproductData.created_date,"onUpdate:modelValue":s[8]||(s[8]=a=>this.VproductData.created_date=a),type:"date",label:"Date",readonly:""},null,8,["modelValue"])]),_:1}),o(g,{md:"6",cols:"12"},{default:n(()=>[o(F,{modelValue:this.VproductData.po_status,"onUpdate:modelValue":s[9]||(s[9]=a=>this.VproductData.po_status=a),label:"PO Status",readonly:""},null,8,["modelValue"])]),_:1}),o(B),o(g,{cols:"12"},{default:n(()=>[o(P,{headers:c.headers3,items:c.viewProduct},{default:n(()=>[t("thead",null,[t("tr",null,[(_(!0),m(v,null,V(c.headers3,a=>(_(),m("th",{class:"text-center",key:a},r(a.text),1))),128))])]),t("tbody",null,[(_(!0),m(v,null,V(this.viewProduct,(a,h)=>(_(),m("tr",{key:h},[t("td",Xt,r(a.sku_name),1),t("td",Zt,r(a.hsn_code),1),t("td",$t,r(a.mrp),1),t("td",te,r(a.quantity),1),t("td",ee,r(a.uom),1),t("td",ae,[p(r(a.price_per_unit)+" ",1),o(b,{color:l.colorTGMmargin(a.total_give_margin).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(" ("+r(a.total_give_margin)+") ",1)]),_:2},1032,["color"])]),t("td",se,r(a.taxable_amount),1),t("td",le,[p(r(a.csgt)+" ",1),o(b,{color:l.colorTGMmargin(a.cgst_percentage).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(" ("+r(a.cgst_percentage)+") ",1)]),_:2},1032,["color"])]),t("td",oe,[p(r(a.sgst)+" ",1),o(b,{color:l.colorTGMmargin(a.sgst_percentage).color,class:"font-weight-medium",size:"small"},{default:n(()=>[p(" ("+r(a.sgst_percentage)+") ",1)]),_:2},1032,["color"])]),t("td",re,r(a.amount),1)]))),128))]),t("tfoot",null,[t("tr",null,[ne,ce,de,t("td",ue,r(this.VproductData.total_quantity),1),ie,_e,t("td",he,"\u20B9"+r(this.VproductData.sub_total),1),t("td",pe,"\u20B9"+r(this.VproductData.total_cgst),1),t("td",me,"\u20B9"+r(this.VproductData.total_sgst),1),t("td",ge,"\u20B9"+r(this.VproductData.total_po_amount),1),xe]),fe,t("tr",null,[be,t("td",ve," \u20B9"+r(this.VproductData.total_cgst),1),Ve,t("td",Te," \u20B9"+r(this.VproductData.total_po_amount),1)]),t("tr",null,[ye,t("td",Se," \u20B9"+r(this.VproductData.total_sgst),1),Ae,t("td",De," \u20B9"+r(this.VproductData.total_po_amount),1)]),t("tr",null,[ke,we,Pe,t("td",Fe," \u20B9"+r(c.totals.Quantity),1)]),t("tr",null,[Be,Ce,Ge,t("td",Ne," \u20B9"+r(this.VproductData.total_po_amount),1)]),t("tr",null,[qe,Ue,Ie,t("td",Me," \u20B9"+r(this.VproductData.you_saved),1)])])]),_:1},8,["headers","items"])]),_:1}),o(g,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:n(()=>[o(f,{color:"primary",onClick:s[10]||(s[10]=a=>l.closedialog2())},{default:n(()=>[p(" Close ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(j,{modelValue:c.snackbar,"onUpdate:modelValue":s[12]||(s[12]=a=>c.snackbar=a),timeout:2e3,color:c.color},{default:n(()=>[p(r(c.snackbarText),1)]),_:1},8,["modelValue","color"])])}const Oe=q(E,[["render",Re],["__scopeId","data-v-956149b5"]]),ze={components:{Viewpurchaseorders:Oe},data(){return{currentroute:"",activeTab:"",tabs:[{title:"View Purchase Order",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=M(),this.activeTab=R(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function Qe(e,s,d,i,c,l){const a=O("Viewpurchaseorders");return _(),m("div",null,[o(H,{modelValue:c.activeTab,"onUpdate:modelValue":s[0]||(s[0]=h=>c.activeTab=h),"show-arrows":""},{default:n(()=>[(_(!0),m(v,null,V(c.tabs,h=>(_(),y(Y,{key:h.icon,value:h.tab},{default:n(()=>[o(D,{size:"20",start:"",icon:h.icon},null,8,["icon"]),p(" "+r(h.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(B),o(W,{modelValue:c.activeTab,"onUpdate:modelValue":s[1]||(s[1]=h=>c.activeTab=h),class:"mt-5 disable-tab-transition",touch:!1},{default:n(()=>[o(K,{value:"account"},{default:n(()=>[o(a)]),_:1})]),_:1},8,["modelValue"])])}const ea=q(ze,[["render",Qe]]);export{ea as default};
