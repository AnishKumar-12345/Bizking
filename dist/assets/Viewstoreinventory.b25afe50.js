import{_,o as r,c,a as n,g as o,bj as V,bg as v,w as d,F as h,q as m,t as i,b as p,v as k,e as f,s as x,r as y,f as w,u as S}from"./index.932c584e.js";import{s as T}from"./Services.ed5d9645.js";import{V as C}from"./VTextField.08a83681.js";import{V as I}from"./VChip.670d4bda.js";import{V as A}from"./VTable.ac4f1758.js";import{V as L}from"./VPagination.33a460d5.js";import{V as Q,a as q,b as N,c as U}from"./VWindowItem.beef0345.js";import"./index.2bd8ddc8.js";const z={mixins:[T],data(){return{searchQuery:"",page:1,pageSize:10,loading:!0,Allstocks:[],headers:[{text:"Brand Name",value:"brand_name"},{text:"SKU Name",value:"sku_name"},{text:"UOM",value:"uom"},{text:"HSN Code",value:"hsn_code"},{text:"Available Quantity",value:"available_qty"},{text:"Stock Updated Date",value:"stock_updated_date"}]}},computed:{filteredStocks(){const t=this.searchQuery.toLowerCase().trim();return this.Allstocks.filter(e=>e.brand_name&&e.brand_name.toLowerCase().includes(t)||e.sku_name&&e.sku_name.toLowerCase().includes(t)||e.uom&&e.uom.toLowerCase().includes(t)||e.hsn_code&&e.hsn_code.toLowerCase().includes(t)||e.available_qty&&e.available_qty.toString().includes(t)||e.stock_updated_date&&e.stock_updated_date.toString().includes(t))},paginatedItems(){const t=(this.page-1)*this.pageSize,e=t+this.pageSize;return this.filteredStocks.slice(t,e)}},mounted(){this.getstocksdetails(),setTimeout(()=>{this.loading=!1},4e3)},methods:{updatePagination(t){this.page=t},getstocksdetails(){this.getAllstocks().then(t=>{console.log("check the view stocks",t.data.data),this.Allstocks=t.data.data,console.log("check the view ALl History",this.Allstocks),this.Allstocks.reverse()})},colorQuantity(t){return t>=10?{color:"success"}:{color:"error"}}}},B={style:{"max-width":"400px"}},P={key:0,class:"loading-container"},D={class:"text-center"},F={class:"text-center"},H={class:"text-center"},M={class:"text-center"},W={class:"text-center"},j={class:"text-center"};function E(t,e,g,b,a,u){return r(),c("div",null,[n("div",B,[o(C,{class:"mb-3",modelValue:a.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=s=>a.searchQuery=s),density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])]),a.loading?(r(),c("div",P,[o(V,{height:"5",color:"primary",indeterminate:"",class:"custom-loader","full-width":""})])):v("",!0),o(A,{headers:a.headers,items:this.paginatedItems,"item-key":"dessert",class:"table-rounded",height:"500","fixed-header":""},{default:d(()=>[n("thead",null,[n("tr",null,[(r(!0),c(h,null,m(a.headers,s=>(r(),c("th",{class:"text-center",key:s},i(s.text),1))),128))])]),n("tbody",null,[(r(!0),c(h,null,m(this.paginatedItems,(s,l)=>(r(),c("tr",{key:l},[n("td",D,i(s.brand_name),1),n("td",F,i(s.sku_name),1),n("td",H,i(s.uom),1),n("td",M,i(s.hsn_code),1),n("td",W,[o(I,{color:u.colorQuantity(s.available_qty).color,class:"font-weight-medium",size:"small"},{default:d(()=>[p(i(s.available_qty>=0?s.available_qty:0),1)]),_:2},1032,["color"])]),n("td",j,i(s.stock_updated_date),1)]))),128))])]),_:1},8,["headers","items"]),o(L,{modelValue:a.page,"onUpdate:modelValue":e[1]||(e[1]=s=>a.page=s),length:Math.ceil(u.filteredStocks.length/a.pageSize),onInput:u.updatePagination},null,8,["modelValue","length","onInput"])])}const K=_(z,[["render",E]]),O={components:{Viewstocks:K},data(){return{currentroute:"",activeTab:"",tabs:[{title:"View Stock",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=k(),this.activeTab=f(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function R(t,e,g,b,a,u){const s=y("Viewstocks");return r(),c("div",null,[o(Q,{modelValue:a.activeTab,"onUpdate:modelValue":e[0]||(e[0]=l=>a.activeTab=l),"show-arrows":""},{default:d(()=>[(r(!0),c(h,null,m(a.tabs,l=>(r(),w(U,{key:l.icon,value:l.tab},{default:d(()=>[o(S,{size:"20",start:"",icon:l.icon},null,8,["icon"]),p(" "+i(l.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(x),o(N,{modelValue:a.activeTab,"onUpdate:modelValue":e[1]||(e[1]=l=>a.activeTab=l),class:"mt-5 disable-tab-transition",touch:!1},{default:d(()=>[o(q,{value:"account"},{default:d(()=>[o(s)]),_:1})]),_:1},8,["modelValue"])])}const se=_(O,[["render",R]]);export{se as default};
