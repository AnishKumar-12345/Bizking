import{_,o as d,c as i,g as t,w as s,i as u,j as g,k as v,l as V,s as f,a as n,F as h,q as p,t as c,b,v as M,e as T,r as S,f as U,u as w}from"./index.932c584e.js";import{s as y}from"./Services.ed5d9645.js";import{V as N}from"./VForm.a45b52ba.js";import{V as B}from"./VSelect.562421d6.js";import{V as C}from"./VTextField.08a83681.js";import{V as I}from"./VTable.ac4f1758.js";import{V as D}from"./VSnackbar.8ee9aa12.js";import{V as F,a as O,b as E,c as P}from"./VWindowItem.beef0345.js";import"./index.2bd8ddc8.js";import"./VCheckboxBtn.769d3b14.js";import"./VChip.670d4bda.js";const R={mixins:[y],components:{},data(){return{snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,marchantstocksdata:[],selectedmerchants:null,merchantName:[],stockUpdatedate:null,headers:[{text:"Brand Name",value:"brand_name"},{text:"SKU",value:"sku_name"},{text:"UOM",value:"uom"},{text:"Physical SOH",value:"physical_soh"},{text:"Closing",value:"closing"},{text:"Opening",value:"opening"}]}},computed:{merchants(){return this.merchantName.map(r=>r.merchant_uid)}},mounted(){this.getMerchantdetails()},methods:{handleMerchantSelection(){console.log("Selected Merchant:",this.selectedmerchants);const r=this.merchantName.find(e=>e.merchant_uid===this.selectedmerchants);console.log("Selected Brand Details:",r),r&&(this.selectedMerchantId=r.merchant_id,console.log("Selected Merchant ID:",this.selectedMerchantId),this.getMerchantproductsstock(this.selectedMerchantId).then(e=>{console.log("Merchant Products:",e),e.status==1?(this.stockUpdatedate=e.data.stock_updated_date,this.marchantstocksdata=e.data.products):(this.marchantstocksdata=[],this.snackbar=!0,this.snackbarText=e.message,this.color="on-background")}).catch(e=>{console.error("Error fetching merchant products:",e)}))},getMerchantdetails(){this.getMerchants().then(r=>{this.merchantName=r.data.data,console.log("mer",this.merchantName)})}}},W={class:"text-center"},j={class:"text-center"},q={class:"text-center"},z={class:"text-center"},H={class:"text-center"},K={class:"text-center"};function L(r,e,k,x,o,m){return d(),i("div",null,[t(V,null,{default:s(()=>[t(u,{cols:"12"},{default:s(()=>[t(g,{title:"Merchants",class:"mb-4"},{default:s(()=>[t(v,null,{default:s(()=>[t(N,{class:"mt-6",ref:"purchaseOrderForm"},{default:s(()=>[t(V,null,{default:s(()=>[t(u,{md:"6",cols:"12"},{default:s(()=>[t(B,{modelValue:o.selectedmerchants,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.selectedmerchants=a),m.handleMerchantSelection],label:"Store or Merchant",items:m.merchants},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),t(u,{cols:"12",md:"6"},{default:s(()=>[t(C,{modelValue:this.stockUpdatedate,"onUpdate:modelValue":e[1]||(e[1]=a=>this.stockUpdatedate=a),label:"Stock Updated Date",readonly:""},null,8,["modelValue"])]),_:1}),t(f),t(u,{cols:"12"},{default:s(()=>[t(I,{headers:o.headers,items:this.marchantstocksdata},{default:s(()=>[n("thead",null,[n("tr",null,[(d(!0),i(h,null,p(o.headers,a=>(d(),i("th",{class:"text-center",key:a},c(a.text),1))),128))])]),n("tbody",null,[(d(!0),i(h,null,p(this.marchantstocksdata,(a,l)=>(d(),i("tr",{key:l},[n("td",W,c(a.brand_name),1),n("td",j,c(a.sku_name),1),n("td",q,c(a.uom),1),n("td",z,c(a.physical_soh),1),n("td",H,c(a.closing),1),n("td",K,c(a.opening),1)]))),128))])]),_:1},8,["headers","items"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1}),t(D,{modelValue:o.snackbar,"onUpdate:modelValue":e[2]||(e[2]=a=>o.snackbar=a),timeout:3500,color:o.color},{default:s(()=>[b(c(o.snackbarText),1)]),_:1},8,["modelValue","color"])])}const A=_(R,[["render",L]]),G={components:{Viewstore:A},data(){return{currentroute:"",activeTab:"",tabs:[{title:"View Store Stocks",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=M(),this.activeTab=T(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function J(r,e,k,x,o,m){const a=S("Viewstore");return d(),i("div",null,[t(F,{modelValue:o.activeTab,"onUpdate:modelValue":e[0]||(e[0]=l=>o.activeTab=l),"show-arrows":""},{default:s(()=>[(d(!0),i(h,null,p(o.tabs,l=>(d(),U(P,{key:l.icon,value:l.tab},{default:s(()=>[t(w,{size:"20",start:"",icon:l.icon},null,8,["icon"]),b(" "+c(l.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),t(f),t(E,{modelValue:o.activeTab,"onUpdate:modelValue":e[1]||(e[1]=l=>o.activeTab=l),class:"mt-5 disable-tab-transition",touch:!1},{default:s(()=>[t(O,{value:"account"},{default:s(()=>[t(a)]),_:1})]),_:1},8,["modelValue"])])}const re=_(G,[["render",J]]);export{re as default};
