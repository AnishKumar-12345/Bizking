import{_ as N,o as n,c as i,g as l,w as r,i as f,j as S,k as D,l as _,f as V,F as h,q as p,u as x,b as k,t as d,s as L,a as o,bv as Q,m as B,b8 as g,bq as I,v as M,e as Z,r as R}from"./index.7e5301d2.js";import{s as A}from"./Services.e2ee330a.js";import{V as v}from"./VForm.c6ad41ca.js";import{V as b}from"./VAutocomplete.8599a9d6.js";import{V as P,c as z,b as U,a as y}from"./VWindowItem.f305b40e.js";import{V as w}from"./VTextField.969f3f52.js";import{V as T}from"./VTable.dc5363c0.js";import{V as C}from"./VPagination.c14eede1.js";import{V as F}from"./VSnackbar.3334e156.js";import"./VCounter.f7f19471.js";import"./VSelect.2e908d75.js";import"./VCheckboxBtn.96ebc215.js";import"./VChip.af398333.js";const H={mixins:[A],data(){return{cityLoaction:[],locationdata:"",activeTab:"",storename:"",storename2:"",snackbar:!1,snackbarText:"",timeout:6e3,color:"",top:!1,bottom:!0,left:!1,right:!1,loading:!1,Delivereddatas:[],searchQuery:"",searchQuery2:"",Delivereddatas2:[],loading2:!1,tabs:[{title:"Delivered",icon:"mdi-account-outline",tab:"account"},{title:"Not Delivered",icon:"teenyicons:attachment-outline",tab:"attach"}],headers:[{text:"Created date",value:"PO Store"},{text:"Merchant Name",value:"PO Received Date"},{text:"PO Number",value:"SO BKAP"},{text:"SO Number",value:"Store Name"},{text:"Status",value:"Status"}],headers2:[{text:"Created date",value:"PO Store"},{text:"Merchant Name",value:"PO Received Date"},{text:"PO Number",value:"SO BKAP"},{text:"SO Number",value:"Store Name"},{text:"Remarks",value:"Remarks"},{text:"Status",value:"Status"}],page:1,pageSize:10,page2:1,pageSize2:10,togglecard:!1}},computed:{filtereddata2(){const a=this.searchQuery2.toLowerCase().trim();return this.Delivereddatas2.filter(e=>e.created_date&&e.created_date.toLowerCase().includes(a)||e.merchant_name&&e.merchant_name.toLowerCase().includes(a)||e.po_number&&e.po_number.toLowerCase().includes(a)||e.so_number&&e.so_number.toLowerCase().includes(a)||e.remarks&&e.remarks.toLowerCase().includes(a)||e.status&&e.status.toLowerCase().includes(a))},paginatedItems2(){const a=(this.page2-1)*this.pageSize2,e=a+this.pageSize;return this.filtereddata2.slice(a,e)},sortDeliver2(){return this.paginatedItems2.sort((a,e)=>new Date(e.created_date)-new Date(a.created_date))},filtereddata(){const a=this.searchQuery.toLowerCase().trim();return this.Delivereddatas.filter(e=>e.created_date&&e.created_date.toLowerCase().includes(a)||e.merchant_name&&e.merchant_name.toLowerCase().includes(a)||e.po_number&&e.po_number.toLowerCase().includes(a)||e.so_number&&e.so_number.toLowerCase().includes(a)||e.status&&e.status.toLowerCase().includes(a))},paginatedItems(){const a=(this.page-1)*this.pageSize,e=a+this.pageSize;return this.filtereddata.slice(a,e)},sortDeliver(){return this.paginatedItems.sort((a,e)=>new Date(e.created_date)-new Date(a.created_date))}},watch:{activeTab(a){a==="account"&&!this.storename?(this.snackbar=!0,this.color="on-background",this.snackbarText="Please select Store Name "):a==="attach"&&!this.storename2&&(this.snackbar=!0,this.color="on-background",this.snackbarText="Please select Store Name ")}},mounted(){this.cityID=localStorage.getItem("city_id"),this.handleBrandSelection()},methods:{resetAvatar(a){this.getDelivered(a)},getnotdelivereddata(a){const e={Zepto:"zepto","D-Mart":"dmart"};this.loading2=!0,this.Notdelivereddata(e[a],this.locationdata).then(c=>{c.data.status==1?(this.Delivereddatas2=c.data.data,this.snackbar=!0,this.color="primary",this.snackbarText=c.data.message,this.loading2=!1):(this.loading=!1,this.snackbar=!0,this.color="on-background",this.snackbarText="Please select Store Name")})},Toggletab(a){this.togglecard=!0,this.getDelivered(a),this.getnotdelivereddata(a)},updatePagination(a){this.page=a},updatePagination2(a){this.page2=a},getDelivered(a){const e={Zepto:"zepto","D-Mart":"dmart"};this.loading=!0,this.Delivereddata(e[a],this.locationdata).then(c=>{c.data.status==1?(this.Delivereddatas=c.data.data,this.snackbar=!0,this.color="primary",this.snackbarText=c.data.message,this.loading=!1):(this.loading=!1,this.snackbar=!0,this.color="on-background",this.snackbarText="Please select Store Name")})},handleBrandSelection(){this.getCitylocation(this.cityID).then(a=>{this.cityLoaction=a.data.data.map(e=>({value:e.location_id,text:e.location}))})}}},q={style:{"max-width":"400px"}},K=o("span",{class:"d-none d-sm-block"},"Refresh",-1),W={key:0,id:"app"},j=o("div",{id:"loading-bg"},[o("div",{class:"loading-logo"},[o("img",{src:I,height:"60",width:"68",alt:"Logo"})]),o("div",{class:"loading"},[o("div",{class:"effect-1 effects"}),o("div",{class:"effect-2 effects"}),o("div",{class:"effect-3 effects"})])],-1),E=[j],G={key:0},J=o("td",{colspan:"16",class:"text-center"},[o("h1",null,"No data found !")],-1),X=[J],Y={class:"text-center"},$={class:"text-center"},ee={class:"text-center"},te={class:"text-center"},ae={class:"text-center"},se={style:{"max-width":"400px"}},le={key:0,id:"app"},oe=o("div",{id:"loading-bg"},[o("div",{class:"loading-logo"},[o("img",{src:I,height:"60",width:"68",alt:"Logo"})]),o("div",{class:"loading"},[o("div",{class:"effect-1 effects"}),o("div",{class:"effect-2 effects"}),o("div",{class:"effect-3 effects"})])],-1),re=[oe],ne={key:0},de=o("td",{colspan:"16",class:"text-center"},[o("h1",null,"No data found !")],-1),ie=[de],ue={class:"text-center"},ce={class:"text-center"},me={class:"text-center"},he={class:"text-center"},pe={class:"text-center"},fe={class:"text-center"};function ge(a,e,c,O,s,u){return n(),i("div",null,[l(_,null,{default:r(()=>[l(f,{cols:"12"},{default:r(()=>[l(S,{title:"Check Delivery Status",class:"mb-4"},{default:r(()=>[l(D,null,{default:r(()=>[l(v,{class:"mt-6"},{default:r(()=>[l(_,null,{default:r(()=>[l(f,{md:"6",cols:"12"},{default:r(()=>[l(b,{modelValue:s.locationdata,"onUpdate:modelValue":[e[0]||(e[0]=t=>s.locationdata=t),e[1]||(e[1]=t=>u.Toggletab(s.storename))],label:"Location",items:s.cityLoaction,"item-value":"value","item-title":"text","menu-props":{maxHeight:200}},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(f,{cols:"12"},{default:r(()=>[s.togglecard?(n(),V(S,{key:0},{default:r(()=>[l(D,null,{default:r(()=>[l(P,{modelValue:s.activeTab,"onUpdate:modelValue":e[2]||(e[2]=t=>s.activeTab=t),"show-arrows":""},{default:r(()=>[(n(!0),i(h,null,p(s.tabs,t=>(n(),V(z,{key:t.icon,value:t.tab},{default:r(()=>[l(x,{size:"20",start:"",icon:t.icon},null,8,["icon"]),k(" "+d(t.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l(L),l(U,{modelValue:s.activeTab,"onUpdate:modelValue":e[12]||(e[12]=t=>s.activeTab=t),class:"mt-5 disable-tab-transition",touch:!1},{default:r(()=>[l(y,{value:"account"},{default:r(()=>[l(v,{class:"mt-6"},{default:r(()=>[l(_,null,{default:r(()=>[l(f,{md:"6",cols:"12"},{default:r(()=>[l(b,{modelValue:s.storename,"onUpdate:modelValue":[e[3]||(e[3]=t=>s.storename=t),e[4]||(e[4]=t=>u.getDelivered(s.storename))],label:"Store Name",items:["Zepto","D-Mart"],"menu-props":{maxHeight:200}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o("div",q,[l(w,{modelValue:s.searchQuery,"onUpdate:modelValue":e[5]||(e[5]=t=>s.searchQuery=t),class:"mb-3",density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"]),l(Q),l(B,{type:"reset",color:"primary",variant:"tonal",onClick:e[6]||(e[6]=t=>u.resetAvatar(s.storename))},{default:r(()=>[K,l(x,{icon:"mdi-refresh",class:"d-sm-none"})]),_:1})]),s.loading?(n(),i("div",W,E)):g("",!0),l(T,null,{default:r(()=>[o("thead",null,[o("tr",null,[(n(!0),i(h,null,p(s.headers,t=>(n(),i("th",{key:t,class:"text-center"},d(t.text),1))),128))])]),o("tbody",null,[u.filtereddata.length===0?(n(),i("tr",G,X)):g("",!0),(n(!0),i(h,null,p(u.sortDeliver,t=>(n(),i("tr",{key:t.so_status},[o("td",Y,d(t.created_date),1),o("td",$,d(t.merchant_name),1),o("td",ee,d(t.po_number),1),o("td",te,d(t.so_number),1),o("td",ae,d(t.status),1)]))),128))])]),_:1}),l(C,{modelValue:s.page,"onUpdate:modelValue":e[7]||(e[7]=t=>s.page=t),length:Math.ceil(u.filtereddata.length/s.pageSize),onInput:u.updatePagination},null,8,["modelValue","length","onInput"])]),_:1}),l(y,{value:"attach"},{default:r(()=>[l(v,{class:"mt-6"},{default:r(()=>[l(_,null,{default:r(()=>[l(f,{md:"6",cols:"12"},{default:r(()=>[l(b,{modelValue:s.storename2,"onUpdate:modelValue":[e[8]||(e[8]=t=>s.storename2=t),e[9]||(e[9]=t=>u.getnotdelivereddata(s.storename2))],label:"Store Name",items:["Zepto","D-Mart"],"menu-props":{maxHeight:200}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o("div",se,[l(w,{modelValue:s.searchQuery2,"onUpdate:modelValue":e[10]||(e[10]=t=>s.searchQuery2=t),class:"mb-3",density:"compact",variant:"solo",label:"Search","append-inner-icon":"mdi-magnify","single-line":"","hide-details":""},null,8,["modelValue"])]),s.loading2?(n(),i("div",le,re)):g("",!0),l(T,null,{default:r(()=>[o("thead",null,[o("tr",null,[(n(!0),i(h,null,p(s.headers2,t=>(n(),i("th",{key:t,class:"text-center"},d(t.text),1))),128))])]),o("tbody",null,[u.filtereddata2.length===0?(n(),i("tr",ne,ie)):g("",!0),(n(!0),i(h,null,p(u.sortDeliver2,t=>(n(),i("tr",{key:t.so_status},[o("td",ue,d(t.created_date),1),o("td",ce,d(t.merchant_name),1),o("td",me,d(t.po_number),1),o("td",he,d(t.so_number),1),o("td",pe,d(t.remarks),1),o("td",fe,d(t.status),1)]))),128))])]),_:1}),l(C,{modelValue:s.page2,"onUpdate:modelValue":e[11]||(e[11]=t=>s.page2=t),length:Math.ceil(u.filtereddata2.length/s.pageSize2),onInput:u.updatePagination2},null,8,["modelValue","length","onInput"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0)]),_:1})]),_:1}),l(F,{modelValue:s.snackbar,"onUpdate:modelValue":e[13]||(e[13]=t=>s.snackbar=t),timeout:3e3,color:s.color},{default:r(()=>[k(d(s.snackbarText),1)]),_:1},8,["modelValue","color"])])}const _e=N(H,[["render",ge]]),ve={components:{Zeptopagedata:_e},data(){return{currentroute:"",activeTab:"",tabs:[{title:"Delivery Status",icon:"mdi-account-outline",tab:"account"}]}},mounted(){this.currentroute=M(),this.activeTab=Z(this.currentroute.params.tab),this.activeTab=this.tabs[0].tab}};function be(a,e,c,O,s,u){const t=R("Zeptopagedata");return n(),i("div",null,[l(P,{modelValue:s.activeTab,"onUpdate:modelValue":e[0]||(e[0]=m=>s.activeTab=m),"show-arrows":""},{default:r(()=>[(n(!0),i(h,null,p(s.tabs,m=>(n(),V(z,{key:m.icon,value:m.tab},{default:r(()=>[l(x,{size:"20",start:"",icon:m.icon},null,8,["icon"]),k(" "+d(m.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),l(L),l(U,{modelValue:s.activeTab,"onUpdate:modelValue":e[1]||(e[1]=m=>s.activeTab=m),class:"mt-5 disable-tab-transition",touch:!1},{default:r(()=>[l(y,{value:"account"},{default:r(()=>[l(t)]),_:1})]),_:1},8,["modelValue"])])}const ze=N(ve,[["render",be]]);export{ze as default};
