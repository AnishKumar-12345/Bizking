import{e as n,aS as w,E as k,o as y,c as x,g as a,w as t,aT as I,k as c,p as T,l as S,i as p,m as h,n as C,b as f,j as P,aV as d,aU as i,t as B,a as r,aR as R,bg as D}from"./index.54857599.js";import{c as E,d as M,b as N,a as U}from"./auth-v1-tree.54ebfcea.js";import{a as j}from"./index.2bd8ddc8.js";import{b as g}from"./route-block.011d1056.js";import{V as A}from"./VForm.064411c2.js";import{V as z}from"./VSnackbar.de4bad60.js";const F={class:"auth-wrapper d-flex align-center justify-center pa-4"},L=r("div",{class:"d-flex"},[r("img",{src:R,width:"80",height:"80"})],-1),Z=r("h5",{class:"text-h5 font-weight-semibold mb-1"}," Welcome to BIZKINGZ! \u{1F44B}\u{1F3FB} ",-1),q=r("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),G=r("br",null,null,-1),K=r("br",null,null,-1),W={__name:"login",setup($){const _=D(),o=n({email:"",password:"",remember:!1,timeout:6e3}),s=n({show:!1,message:"",color:""}),V=w(),b=k(()=>V.global.name.value==="light"?E:M),u=n(!1),v=()=>{const m={email:o.value.email,password:o.value.password};j.post("http://103.211.218.32/bizkingz/services/api/auth/login",m).then(e=>{console.log("API Response:",e),e.data.status==1?(setTimeout(()=>{_.push("/Dashboardhome")},1e3),localStorage.setItem("createdby",e.data.data.name),localStorage.setItem("userId",e.data.data.user_id),localStorage.setItem("userRole",e.data.data.user_role),s.value={show:!0,message:e.data.message,color:"success"}):s.value={show:!0,message:e.data.message,color:"error"}}).catch(e=>{console.error("API Error:",e),s.value={show:!0,message:"An error occurred while logging in. Please try again.",color:"error"}})};return(m,e)=>(y(),x("div",F,[a(P,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:t(()=>[a(I,{class:"justify-center"},{prepend:t(()=>[L]),_:1}),a(c,{class:"pt-2"},{default:t(()=>[Z,q]),_:1}),a(c,null,{default:t(()=>[a(A,{onSubmit:T(v,["prevent"])},{default:t(()=>[a(S,null,{default:t(()=>[a(p,{cols:"12"},{default:t(()=>[a(h,{modelValue:o.value.email,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.email=l),label:"Email",type:"email"},null,8,["modelValue"])]),_:1}),a(p,{cols:"12"},{default:t(()=>[a(h,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.password=l),label:"Password",type:u.value?"text":"password","append-inner-icon":u.value?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":e[2]||(e[2]=l=>u.value=!u.value)},null,8,["modelValue","type","append-inner-icon"]),G,K,a(C,{block:"",type:"submit"},{default:t(()=>[f(" Login ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}),a(i,{class:"auth-footer-start-tree d-none d-md-block",src:d(N),width:250},null,8,["src"]),a(i,{src:d(U),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),a(i,{class:"auth-footer-mask d-none d-md-block",src:d(b)},null,8,["src"]),a(z,{modelValue:s.value.show,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.show=l),color:s.value.color,top:"",timeout:1e3},{default:t(()=>[f(B(s.value.message),1)]),_:1},8,["modelValue","color"])]))}};typeof g=="function"&&g(W);export{W as default};
